/// <reference types="react" />

import React from "react";

export interface ItemProps extends React.HtmlHTMLAttributes<HTMLHtmlElement> {
  /**
   * 样式前缀
   */
  prefix?: string;

  /**
   * label 标签的文本
   */
  label?: React.ReactNode;

  /**
   * label 标签布局，通 `<Col>` 组件，设置 span offset 值，如 {span: 8, offset: 16}，该项仅在垂直表单有效
   */
  labelCol?: {};

  /**
   * 需要为输入控件设置布局样式时，使用该属性，用法同 labelCol
   */
  wrapperCol?: {};

  /**
   * 自定义提示信息，如不设置，则会根据校验规则自动生成.
   */
  help?: React.ReactNode;

  /**
   * 校验状态，如不设置，则会根据校验规则自动生成
   */
  validateState?: "error" | "success" | "loading";

  /**
   * 配合 validateState 属性使用，是否展示 success/loading 的校验状态图标, 目前只有Input支持
   */
  hasFeedback?: boolean;

  /**
   * 自定义内联样式
   */
  style?: React.CSSProperties;

  /**
   * 额外的提示信息，和 help 类似，当需要错误信息和提示文案同时出现时，可以使用这个。 位于错误信息后面
   */
  extra?: React.ReactNode;

  /**
   * 单个Item的size自定义，优先级高于Form的size, 并且当组件与 Item 一起使用时，组件自身设置 size 属性无效。
   */
  size?: "large" | "small" | "medium";

  /**
   * 标签的位置
   */
  labelAlign?: "top" | "left" | "inset";

  /**
   * 标签的左右对齐方式
   */
  labelTextAlign?: "left" | "right";

  /**
   * 扩展class
   */
  className?: string;

  /**
   * required 星号
   */
  asterisk?: boolean;
}

export class Item extends React.Component<ItemProps, any> {}

export interface ResetProps extends React.HtmlHTMLAttributes<HTMLHtmlElement> {
  /**
   * 自定义重置的字段
   */
  names?: Array<any>;

  /**
   * 点击提交后触发
   */
  onClick?: (() => void);

  /**
   * 返回默认值
   */
  toDefault?: boolean;

  /**
   * 自定义 field (在 Form 内不需要设置)
   */
  field?: {};
}

export class Reset extends React.Component<ResetProps, any> {}

export interface SubmitProps extends React.HtmlHTMLAttributes<HTMLHtmlElement> {
  /**
   * 点击提交后触发
   */
  onClick?: (() => void);

  /**
   * 是否校验/需要校验的 name 数组
   */
  validate?: boolean | Array<any>;

  /**
   * 自定义 field (在 Form 内不需要设置)
   */
  field?: {};
}

export class Submit extends React.Component<SubmitProps, any> {}
export interface FormProps extends React.HtmlHTMLAttributes<HTMLHtmlElement> {
  /**
   * 样式前缀
   */
  prefix?: string;

  /**
   * 内联表单
   */
  inline?: boolean;

  /**
   * 单个Item的size自定义，优先级高于Form的size, 并且当组件与 Item 一起使用时，组件自身设置 size 属性无效。
   */
  size?: "large" | "medium" | "small";

  /**
   * 标签的位置
   */
  labelAlign?: "top" | "left" | "inset";

  /**
   * 标签的左右对齐方式
   */
  labelTextAlign?: "left" | "right";

  /**
   * 经 `new Field(this)` 初始化后，直接传给 Form 即可 用到表单校验则不可忽略此项
   */
  field?: any;

  /**
   * 控制第一级 Item 的 labelCol
   */
  labelCol?: {};

  /**
   * 控制第一级 Item 的 wrapperCol
   */
  wrapperCol?: {};

  /**
   * form内有 `htmlType="submit"` 的元素的时候会触发
   */
  onSubmit?: (() => void);

  /**
   * 子元素
   */
  children?: any;

  /**
   * 扩展class
   */
  className?: string;

  /**
   * 自定义内联样式
   */
  style?: React.CSSProperties;

  /**
   * 表单数值
   */
  value?: {};

  /**
   * 表单变化回调
   */
  onChange?: (() => void);
}

export default class Form extends React.Component<FormProps, any> {
  static Item: typeof Item;
  static Reset: typeof Reset;
  static Submit: typeof Submit;
}
