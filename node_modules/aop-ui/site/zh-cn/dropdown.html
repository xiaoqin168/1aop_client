

<!doctype html>
<html>

<head>
  <title>Dropdown</title>
  <meta charset="utf-8" />
  <meta name="description" content="Fusion Dev" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/png" href="./statics/TB1LG1yhMoQMeJjy0FoXXcShVXa-32-33.png" sizes="32x32">
  <link rel="stylesheet" href="./statics/style-demo.css"> 
<link rel="stylesheet" href="./statics/next.min.css"></link>

  <script src="./statics/react-16-2-0-react-development-js,react-16-2-0-react-dom-development-js,jquery-1-11-3-jquery-min.js"></script>
  <script src="./statics/prop-types.min.js"></script>
  <script src="./statics/moment-with-locales.min.js"></script>
</head>

<body><script>
with(document)with(body)with(insertBefore(createElement("script"),firstChild))setAttribute("exparams","category=&userid=&aplus&yunid=&&trid=0bbbeff215249006517344139e1a7d&asid=AQAAAAAsI+RaorjrBwAAAAA9TVAWzcUPKA==",id="tb-beacon-aplus",src=(location>"https"?"//g":"//g")+".alicdn.com/alilog/mlog/aplus_v2.js")
</script>

  
<script src="./statics/common-js,next.js"></script>
<script src="./statics/next-with-locales.min.js"></script>
<script>
  window.react = window.React;
  window['react-dom'] = window.ReactDOM;
  window['prop-types'] = window.PropTypes;
  window['@alife/next'] = window.Next;
  window.ConfigProvider = window.Next.ConfigProvider;
  window.customIcons = [];

  
  (function () {
    ConfigProvider.initLocales(window.Next.locales);
    var fusionLocale = 'zh_CN';
    ConfigProvider.setLanguage(fusionLocale === 'en_US' ? 'en-us' : 'zh-cn');
  })();
  
</script>

<div class="demo-wrapper pc">
  <div class="demo-index">
    <ul class="demo-index-list">
      
      <li class="demo-index-item">
        <a href="#demo-guide">开发指南</a>
      </li>
      <li class="demo-index-item">
        <a href="#demo-list">组件示例</a>
      </li>
       
      <li class="demo-index-item demo-index-item-sub">
        <a href="#dropdown-0">基本</a>
      </li>
      
      <li class="demo-index-item demo-index-item-sub">
        <a href="#dropdown-2">触发的事件类型</a>
      </li>
      
      <li class="demo-index-item demo-index-item-sub">
        <a href="#dropdown-1">从弹层外关闭</a>
      </li>
       
      <li class="demo-index-item">
        <a href="#demo-api">API</a>
      </li>
      
    </ul>
  </div>

  
  <div class="demo-header">
    <div class="title">
       下拉菜单  Dropdown
    </div>
  </div>
  <div class="demo-guide markdown" id="demo-guide"><h2 id="开发指南">开发指南<a href="#开发指南" class="anchor">#</a></h2><h3 id="何时使用">何时使用<a href="#何时使用" class="anchor">#</a></h3><p>当页面上的操作命令过多时，用此组件可以收纳操作元素。点击或移入触点，会出现一个下拉菜单。可在列表中进行选择，并执行相应的命令。</p>
<h2 id="api">API<a href="#api" class="anchor">#</a></h2><h3 id="dropdown">Dropdown<a href="#dropdown" class="anchor">#</a></h3><blockquote>
<p>继承 Popup 的 API，除非特别说明</p>
</blockquote>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>children</td>
<td>弹层内容</td>
<td>ReactNode</td>
<td>-</td>
</tr>
<tr>
<td>visible</td>
<td>弹层当前是否显示</td>
<td>Boolean</td>
<td>-</td>
</tr>
<tr>
<td>defaultVisible</td>
<td>弹层默认是否显示</td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>onVisibleChange</td>
<td>弹层显示或隐藏时触发的回调函数<br><br><strong>签名</strong>:<br>Function(visible: Boolean, type: String, e: Object) =&gt; void<br><strong>参数</strong>:<br><em>visible</em>: {Boolean} 弹层是否显示<br><em>type</em>: {String} 触发弹层显示或隐藏的来源<br>_e_: {Object} DOM事件</td>
<td>Function</td>
<td>func.noop</td>
</tr>
<tr>
<td>trigger</td>
<td>触发弹层显示或者隐藏的元素</td>
<td>ReactNode</td>
<td>-</td>
</tr>
<tr>
<td>triggerType</td>
<td>触发弹层显示或隐藏的操作类型<br><br><strong>可选值</strong>:<br>&#39;hover&#39;, &#39;click&#39;, &#39;focus&#39;</td>
<td>Enum</td>
<td>&#39;hover&#39;</td>
</tr>
<tr>
<td>disabled</td>
<td>设置此属性，弹层无法显示或隐藏</td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>align</td>
<td>弹层相对于触发元素的定位, 详见<a href="http://fusion-demo.alibaba-inc.com/components?type=next&amp;themeId=next&amp;name=overlay#demo-guide" target="_blank">Overlay的定位部分</a></td>
<td>String</td>
<td>&#39;tl bl&#39;</td>
</tr>
<tr>
<td>offset</td>
<td>弹层相对于触发元素定位的微调</td>
<td>Array</td>
<td>[0, 0]</td>
</tr>
<tr>
<td>delay</td>
<td>弹层显示或隐藏的延时时间（以毫秒为单位），在 triggerType 被设置为 hover 时生效</td>
<td>Number</td>
<td>200</td>
</tr>
<tr>
<td>autoFocus</td>
<td>弹层打开时是否让其中的元素自动获取焦点</td>
<td>Boolean</td>
<td>true</td>
</tr>
<tr>
<td>hasMask</td>
<td>是否显示遮罩</td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>cache</td>
<td>隐藏时是否保留子节点</td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>animation</td>
<td>配置动画的播放方式，支持 { in: &#39;enter-class&#39;, out: &#39;leave-class&#39; } 的对象参数，如果设置为 false，则不播放动画</td>
<td>Object/Boolean</td>
<td>{ in: &#39;expandInDown&#39;, out: &#39;expandOutUp&#39; }</td>
</tr>
</tbody>
</table>
</div>
  

  <div class="demo-list" id="demo-list">
    
    <div class="demo-list-item" id="dropdown-0">
      <div class="demo-list-item-header">
        <a href="#dropdown-0" class="title">基本</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-dropdown-0"></div>
          <script>var mountNode = document.getElementById('react-app-dropdown-0');</script> <script>(function(){'use strict';

var _next = require('@alife/next');

var menu = React.createElement(
    _next.Menu,
    null,
    React.createElement(
        _next.Menu.Item,
        null,
        'Option 1'
    ),
    React.createElement(
        _next.Menu.Item,
        null,
        'Option 2'
    ),
    React.createElement(
        _next.Menu.Item,
        null,
        'Option 3'
    ),
    React.createElement(
        _next.Menu.Item,
        null,
        'Option 4'
    )
);

ReactDOM.render(React.createElement(
    _next.Dropdown,
    { trigger: React.createElement(
            'a',
            null,
            'Hello dropdown'
        ), afterOpen: function afterOpen() {
            return console.log('after open');
        } },
    menu
), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { Dropdown, Menu } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

<span class="hljs-keyword">const</span> menu = (
    &lt;Menu&gt;
        &lt;Menu.Item&gt;Option 1&lt;/Menu.Item&gt;
        &lt;Menu.Item&gt;Option 2&lt;/Menu.Item&gt;
        &lt;Menu.Item&gt;Option 3&lt;/Menu.Item&gt;
        &lt;Menu.Item&gt;Option 4&lt;/Menu.Item&gt;
    &lt;/Menu&gt;
);

ReactDOM.render(
    &lt;Dropdown trigger={&lt;a&gt;Hello dropdown&lt;/a&gt;} afterOpen={() =&gt; console.log('after open')}&gt;
        {menu}
    &lt;/Dropdown&gt;, mountNode);</code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p>最简单的用法。</p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
    <div class="demo-list-item" id="dropdown-2">
      <div class="demo-list-item-header">
        <a href="#dropdown-2" class="title">触发的事件类型</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-dropdown-2"></div>
          <script>var mountNode = document.getElementById('react-app-dropdown-2');</script> <script>(function(){"use strict";

var _next = require("@alife/next");

var menu = React.createElement(
    _next.Menu,
    null,
    React.createElement(
        _next.Menu.Item,
        null,
        "Option 1"
    ),
    React.createElement(
        _next.Menu.Item,
        null,
        "Option 2"
    ),
    React.createElement(
        _next.Menu.Item,
        null,
        "Option 3"
    ),
    React.createElement(
        _next.Menu.Item,
        null,
        "Option 4"
    )
);

ReactDOM.render(React.createElement(
    _next.Dropdown,
    { trigger: React.createElement(
            "a",
            null,
            "Click me"
        ), triggerType: "click" },
    menu
), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { Dropdown, Menu } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

<span class="hljs-keyword">const</span> menu = (
    &lt;Menu&gt;
        &lt;Menu.Item&gt;Option 1&lt;/Menu.Item&gt;
        &lt;Menu.Item&gt;Option 2&lt;/Menu.Item&gt;
        &lt;Menu.Item&gt;Option 3&lt;/Menu.Item&gt;
        &lt;Menu.Item&gt;Option 4&lt;/Menu.Item&gt;
    &lt;/Menu&gt;
);

ReactDOM.render(
    &lt;Dropdown trigger={&lt;a&gt;Click me&lt;/a&gt;} triggerType="click"&gt;
        {menu}
    &lt;/Dropdown&gt;, mountNode);</code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p>使用 triggerType 设置触发的事件类型。</p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
    <div class="demo-list-item" id="dropdown-1">
      <div class="demo-list-item-header">
        <a href="#dropdown-1" class="title">从弹层外关闭</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-dropdown-1"></div>
          <script>var mountNode = document.getElementById('react-app-dropdown-1');</script> <script>(function(){'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _next = require('@alife/next');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var menu = React.createElement(
    _next.Menu,
    null,
    React.createElement(
        _next.Menu.Item,
        null,
        'Option 1'
    ),
    React.createElement(
        _next.Menu.Item,
        null,
        'Option 2'
    ),
    React.createElement(
        _next.Menu.Item,
        null,
        'Option 3'
    ),
    React.createElement(
        _next.Menu.Item,
        null,
        'Option 4'
    )
);

var App = function (_React$Component) {
    _inherits(App, _React$Component);

    function App() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, App);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = App.__proto__ || Object.getPrototypeOf(App)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
            visible: false
        }, _this.toggleVisible = function () {
            _this.setState({
                visible: !_this.state.visible
            });
        }, _this.onVisibleChange = function (visible) {
            _this.setState({
                visible: visible
            });
        }, _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(App, [{
        key: 'render',
        value: function render() {
            var _this2 = this;

            return React.createElement(
                'div',
                null,
                React.createElement(
                    'div',
                    { style: { marginBottom: '20px' } },
                    React.createElement(
                        _next.Button,
                        { onClick: this.toggleVisible, ref: 'button' },
                        'Toggle Overlay'
                    )
                ),
                React.createElement(
                    _next.Dropdown,
                    { trigger: React.createElement(
                            'span',
                            null,
                            'Hello dropdown'
                        ),
                        triggerType: 'click',
                        visible: this.state.visible,
                        onVisibleChange: this.onVisibleChange,
                        safeNode: function safeNode() {
                            return _this2.refs.button;
                        } },
                    menu
                )
            );
        }
    }]);

    return App;
}(React.Component);

ReactDOM.render(React.createElement(App, null), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { Dropdown, Menu, Button } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

<span class="hljs-keyword">const</span> menu = (
    &lt;Menu&gt;
        &lt;Menu.Item&gt;Option 1&lt;/Menu.Item&gt;
        &lt;Menu.Item&gt;Option 2&lt;/Menu.Item&gt;
        &lt;Menu.Item&gt;Option 3&lt;/Menu.Item&gt;
        &lt;Menu.Item&gt;Option 4&lt;/Menu.Item&gt;
    &lt;/Menu&gt;
);

class App extends React.Component {
    state = {
        visible: false
    };

    toggleVisible = () =&gt; {
        this.setState({
            visible: !this.state.visible
        });
    };

    onVisibleChange = visible =&gt; {
        this.setState({
            visible
        });
    };

    render() {
        return (
            &lt;div&gt;
                &lt;div style={{ marginBottom: '20px' }}&gt;
                    &lt;Button onClick={this.toggleVisible} ref="button"&gt;Toggle Overlay&lt;/Button&gt;
                &lt;/div&gt;
                &lt;Dropdown trigger={&lt;span&gt;Hello dropdown&lt;/span&gt;}
                          triggerType="click"
                          visible={this.state.visible}
                          onVisibleChange={this.onVisibleChange}
                          safeNode={() =&gt; this.refs.button}&gt;
                    {menu}
                &lt;/Dropdown&gt;
            &lt;/div&gt;
        );
    }
}

ReactDOM.render(&lt;App/&gt;, mountNode);</code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p>使用 visible 属性控制弹层显示或者隐藏，需要使用 safeNode 将其控制的元素告诉 dropdown 组件。</p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
  </div>
  <div class="demo-api">
    <div class="title">API</div>
    <div class="demo-api-body markdown" id="demo-api"></div>
  </div>
</div>

  <script src="./statics/common.js"></script>
  <script src="./statics/demo-util.js"></script>
</body>

</html>
