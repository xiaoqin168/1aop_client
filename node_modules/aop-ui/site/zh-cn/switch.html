

<!doctype html>
<html>

<head>
  <title>Switch</title>
  <meta charset="utf-8" />
  <meta name="description" content="Fusion Dev" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/png" href="./statics/TB1LG1yhMoQMeJjy0FoXXcShVXa-32-33.png" sizes="32x32">
  <link rel="stylesheet" href="./statics/style-demo.css"> 
<link rel="stylesheet" href="./statics/next.min.css"></link>

  <script src="./statics/react-16-2-0-react-development-js,react-16-2-0-react-dom-development-js,jquery-1-11-3-jquery-min.js"></script>
  <script src="./statics/prop-types.min.js"></script>
  <script src="./statics/moment-with-locales.min.js"></script>
</head>

<body><script>
with(document)with(body)with(insertBefore(createElement("script"),firstChild))setAttribute("exparams","category=&userid=&aplus&yunid=&&trid=0bbbeff215249006517271992e1a7c&asid=AQAAAAAsI+RayKKCbAAAAADw5RlT500l1g==",id="tb-beacon-aplus",src=(location>"https"?"//g":"//g")+".alicdn.com/alilog/mlog/aplus_v2.js")
</script>

  
<script src="./statics/common-js,next.js"></script>
<script src="./statics/next-with-locales.min.js"></script>
<script>
  window.react = window.React;
  window['react-dom'] = window.ReactDOM;
  window['prop-types'] = window.PropTypes;
  window['@alife/next'] = window.Next;
  window.ConfigProvider = window.Next.ConfigProvider;
  window.customIcons = [];

  
  (function () {
    ConfigProvider.initLocales(window.Next.locales);
    var fusionLocale = 'zh_CN';
    ConfigProvider.setLanguage(fusionLocale === 'en_US' ? 'en-us' : 'zh-cn');
  })();
  
</script>

<div class="demo-wrapper pc">
  <div class="demo-index">
    <ul class="demo-index-list">
      
      <li class="demo-index-item">
        <a href="#demo-guide">开发指南</a>
      </li>
      <li class="demo-index-item">
        <a href="#demo-list">组件示例</a>
      </li>
       
      <li class="demo-index-item demo-index-item-sub">
        <a href="#switch-0">简单</a>
      </li>
      
      <li class="demo-index-item demo-index-item-sub">
        <a href="#switch-1">受控开关</a>
      </li>
      
      <li class="demo-index-item demo-index-item-sub">
        <a href="#switch-2">不可用</a>
      </li>
       
      <li class="demo-index-item">
        <a href="#demo-api">API</a>
      </li>
      
    </ul>
  </div>

  
  <div class="demo-header">
    <div class="title">
       开关组件  Switch
    </div>
  </div>
  <div class="demo-guide markdown" id="demo-guide"><h2 id="开发指南">开发指南<a href="#开发指南" class="anchor">#</a></h2><p>开关组件</p>
<h3 id="何时使用">何时使用<a href="#何时使用" class="anchor">#</a></h3><p>开/关切换器切换单个设置选项的状态。开关控制器中的选项，以及它所在的状态，应该用伴随的内联标签显示清楚。开关选择器具有和单选按钮一样的视觉属性。使用文本“开”和“关”滑动切换已经过时了。使用这里显示的开关选择器代替。</p>
<h3 id="使用注意">使用注意<a href="#使用注意" class="anchor">#</a></h3><ul>
<li>对于checkChildren和unCheckedChildren的自定义要考虑文字大小，因为switch的宽度有限，默认一个汉字大小。如果设置成多个字或者英文要注意宽度控制。</li>
</ul>
<h2 id="api">API<a href="#api" class="anchor">#</a></h2><h3 id="switch">Switch<a href="#switch" class="anchor">#</a></h3><table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>pure</td>
<td>是否开启shouldComponentUpdate优化</td>
<td>Boolean</td>
<td>-</td>
</tr>
<tr>
<td>size</td>
<td>switch的尺寸<br><br><strong>可选值</strong>:<br>&#39;medium&#39;(正常大小)<br>&#39;small&#39;(缩小版大小)</td>
<td>Enum</td>
<td>&#39;medium&#39;</td>
</tr>
<tr>
<td>checkedChildren</td>
<td>打开时的内容</td>
<td>any</td>
<td>-</td>
</tr>
<tr>
<td>unCheckedChildren</td>
<td>关闭时的内容</td>
<td>any</td>
<td>-</td>
</tr>
<tr>
<td>onChange</td>
<td>开关状态改变是触发此事件<br><br><strong>签名</strong>:<br>Function(checked: Boolean, e: Event) =&gt; void<br><strong>参数</strong>:<br><em>checked</em>: {Boolean} 是否为打开状态<br>_e_: {Event} DOM事件对象</td>
<td>Function</td>
<td>() =&gt; { }</td>
</tr>
<tr>
<td>checked</td>
<td>开关当前的值(针对受控组件)</td>
<td>Boolean</td>
<td>-</td>
</tr>
<tr>
<td>defaultChecked</td>
<td>开关默认值 (针对非受控组件)</td>
<td>Boolean</td>
<td>-</td>
</tr>
<tr>
<td>disabled</td>
<td>表示开关被禁用</td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>onClick</td>
<td>鼠标点击事件<br><br><strong>签名</strong>:<br>Function(e: Event) =&gt; void<br><strong>参数</strong>:<br>_e_: {Event} DOM事件对象</td>
<td>Function</td>
<td>-</td>
</tr>
<tr>
<td>onKeyDown</td>
<td>键盘按键事件<br><br><strong>签名</strong>:<br>Function(e: Event) =&gt; void<br><strong>参数</strong>:<br>_e_: {Event} DOM事件对象</td>
<td>Function</td>
<td>-</td>
</tr>
</tbody>
</table>
<h2 id="键盘支持">键盘支持<a href="#键盘支持" class="anchor">#</a></h2><ul>
<li>支持键盘控制，tab选中后按回车进行状态切换。</li>
</ul>
</div>
  

  <div class="demo-list" id="demo-list">
    
    <div class="demo-list-item" id="switch-0">
      <div class="demo-list-item-header">
        <a href="#switch-0" class="title">简单</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-switch-0"></div>
          <script>var mountNode = document.getElementById('react-app-switch-0');</script> <script>(function(){"use strict";

var _next = require("@alife/next");

function onChange(checked) {
    console.log("switch to " + checked);
}

ReactDOM.render(React.createElement(
    "div",
    null,
    React.createElement(_next.Switch, { checkedChildren: "on", onChange: onChange, unCheckedChildren: "off" }),
    React.createElement("br", null),
    React.createElement(_next.Switch, { defaultChecked: false, onChange: onChange, size: "small" })
), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { Switch } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onChange</span>(<span class="hljs-params">checked</span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`switch to <span class="hljs-subst">${checked}</span>`</span>);
}

ReactDOM.render(&lt;div&gt;
        &lt;Switch checkedChildren="on" onChange={onChange} unCheckedChildren="off" /&gt;
        &lt;br /&gt;
        &lt;Switch defaultChecked={false} onChange={onChange} size="small" /&gt;
    &lt;/div&gt;,
    mountNode);</code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p>最简单的用法,size可设置大小。</p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
    <div class="demo-list-item" id="switch-1">
      <div class="demo-list-item-header">
        <a href="#switch-1" class="title">受控开关</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-switch-1"></div>
          <script>var mountNode = document.getElementById('react-app-switch-1');</script> <script>(function(){'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _next = require('@alife/next');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var App = function (_React$Component) {
    _inherits(App, _React$Component);

    function App(props) {
        _classCallCheck(this, App);

        var _this = _possibleConstructorReturn(this, (App.__proto__ || Object.getPrototypeOf(App)).call(this, props));

        _this.state = {
            checked: false
        };
        _this.onChange = _this.onChange.bind(_this);
        return _this;
    }

    _createClass(App, [{
        key: 'onChange',
        value: function onChange(checked) {
            this.setState({ checked: checked });
        }
    }, {
        key: 'render',
        value: function render() {
            return React.createElement(
                'div',
                null,
                React.createElement(
                    'div',
                    { className: 'line' },
                    'value of switch: ',
                    this.state.checked ? 'true' : 'false'
                ),
                React.createElement(
                    'div',
                    { className: 'line' },
                    React.createElement(_next.Switch, { checked: this.state.checked, onChange: this.onChange }),
                    React.createElement(_next.Switch, { checked: this.state.checked, onChange: this.onChange, disabled: true })
                )
            );
        }
    }]);

    return App;
}(React.Component);

ReactDOM.render(React.createElement(App, null), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { Switch } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
    <span class="hljs-keyword">constructor</span>(props) {
        <span class="hljs-keyword">super</span>(props);
        <span class="hljs-keyword">this</span>.state = {
            <span class="hljs-attr">checked</span>: <span class="hljs-literal">false</span>
        };
        <span class="hljs-keyword">this</span>.onChange = <span class="hljs-keyword">this</span>.onChange.bind(<span class="hljs-keyword">this</span>);
    }

    onChange(checked) {
        <span class="hljs-keyword">this</span>.setState({checked});
    }

    render() {
        <span class="hljs-keyword">return</span> (&lt;div&gt;
            &lt;div className="line"&gt;value of switch: {this.state.checked ? 'true' : 'false'}&lt;/div&gt;
            &lt;div className="line"&gt;
                &lt;Switch checked={this.state.checked} onChange={this.onChange} /&gt;
                &lt;Switch checked={this.state.checked} onChange={this.onChange} disabled /&gt;
            &lt;/div&gt;
        &lt;/div&gt;);
    }
}

ReactDOM.render(
    &lt;App /&gt;,
    mountNode
);</code></pre></div><style type="text/css">.line {
  margin-bottom: 10px;
}
.next-switch {
  margin-right: 20px;
}</style><div class="highlight"><pre><code class="css"><span class="hljs-selector-class">.line</span> {
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10px</span>;
}
<span class="hljs-selector-class">.next-switch</span> {
  <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">20px</span>;
}</code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p>受控开关, 是指组件的值由上层组件决定, 如果开关定义了 <code>value</code> 属性, 就表示此开关是受控开关.</p>
<p>对于受控开关, 每一次 React 数据渲染时, 都会使用传入的值来更新开关, 开关本身是不能更新自己的状态的.</p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
    <div class="demo-list-item" id="switch-2">
      <div class="demo-list-item-header">
        <a href="#switch-2" class="title">不可用</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-switch-2"></div>
          <script>var mountNode = document.getElementById('react-app-switch-2');</script> <script>(function(){"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _next = require("@alife/next");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Test = function (_React$Component) {
    _inherits(Test, _React$Component);

    function Test(props) {
        _classCallCheck(this, Test);

        var _this = _possibleConstructorReturn(this, (Test.__proto__ || Object.getPrototypeOf(Test)).call(this, props));

        _this.state = {
            disabled: true
        };
        return _this;
    }

    _createClass(Test, [{
        key: "toggle",
        value: function toggle() {
            this.setState(Object.assign({}, this.state, {
                disabled: !this.state.disabled
            }));
        }
    }, {
        key: "render",
        value: function render() {
            return React.createElement(
                "div",
                null,
                React.createElement(_next.Switch, { checkedChildren: React.createElement(_next.Icon, { type: "select", size: "small" }),
                    unCheckedChildren: React.createElement(_next.Icon, { type: "close", size: "small" }), disabled: this.state.disabled }),
                React.createElement(_next.Switch, { checkedChildren: "on", unCheckedChildren: "off", disabled: this.state.disabled }),
                React.createElement("br", null),
                React.createElement("br", null),
                React.createElement(
                    _next.Button,
                    { type: "primary", onClick: this.toggle.bind(this) },
                    "Toggle disabled"
                )
            );
        }
    }]);

    return Test;
}(React.Component);

ReactDOM.render(React.createElement(Test, null), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { Button, Icon, Switch } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
    <span class="hljs-keyword">constructor</span>(props) {
        <span class="hljs-keyword">super</span>(props);
        <span class="hljs-keyword">this</span>.state = {
            <span class="hljs-attr">disabled</span>: <span class="hljs-literal">true</span>
        };
    }

    toggle() {
        <span class="hljs-keyword">this</span>.setState(<span class="hljs-built_in">Object</span>.assign({}, <span class="hljs-keyword">this</span>.state, {
            <span class="hljs-attr">disabled</span>: !<span class="hljs-keyword">this</span>.state.disabled
        }));
    }

    render() {
        <span class="hljs-keyword">return</span> (&lt;div&gt;
            &lt;Switch checkedChildren={&lt;Icon type="select" size="small" /&gt;}
                    unCheckedChildren={&lt;Icon type="close" size="small" /&gt;} disabled={this.state.disabled} /&gt;
            &lt;Switch checkedChildren="on" unCheckedChildren="off" disabled={this.state.disabled} /&gt;
            &lt;br /&gt;
            &lt;br /&gt;
            &lt;Button type="primary" onClick={this.toggle.bind(this)}&gt;Toggle disabled&lt;/Button&gt;
        &lt;/div&gt;);
    }
}

ReactDOM.render(&lt;Test /&gt;, mountNode);</code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p>Switch 失效状态。</p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
  </div>
  <div class="demo-api">
    <div class="title">API</div>
    <div class="demo-api-body markdown" id="demo-api"></div>
  </div>
</div>

  <script src="./statics/common.js"></script>
  <script src="./statics/demo-util.js"></script>
</body>

</html>
