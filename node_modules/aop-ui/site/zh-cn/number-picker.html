

<!doctype html>
<html>

<head>
  <title>NumberPicker</title>
  <meta charset="utf-8" />
  <meta name="description" content="Fusion Dev" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/png" href="./statics/TB1LG1yhMoQMeJjy0FoXXcShVXa-32-33.png" sizes="32x32">
  <link rel="stylesheet" href="./statics/style-demo.css"> 
<link rel="stylesheet" href="./statics/next.min.css"></link>

  <script src="./statics/react-16-2-0-react-development-js,react-16-2-0-react-dom-development-js,jquery-1-11-3-jquery-min.js"></script>
  <script src="./statics/prop-types.min.js"></script>
  <script src="./statics/moment-with-locales.min.js"></script>
</head>

<body><script>
with(document)with(body)with(insertBefore(createElement("script"),firstChild))setAttribute("exparams","category=&userid=&aplus&yunid=&&trid=0be21d0415249006517236573e8c0b&asid=AQAAAAAsI+RanyT9LgAAAADBKASR0wmkTw==",id="tb-beacon-aplus",src=(location>"https"?"//g":"//g")+".alicdn.com/alilog/mlog/aplus_v2.js")
</script>

  
<script src="./statics/common-js,next.js"></script>
<script src="./statics/next-with-locales.min.js"></script>
<script>
  window.react = window.React;
  window['react-dom'] = window.ReactDOM;
  window['prop-types'] = window.PropTypes;
  window['@alife/next'] = window.Next;
  window.ConfigProvider = window.Next.ConfigProvider;
  window.customIcons = [];

  
  (function () {
    ConfigProvider.initLocales(window.Next.locales);
    var fusionLocale = 'zh_CN';
    ConfigProvider.setLanguage(fusionLocale === 'en_US' ? 'en-us' : 'zh-cn');
  })();
  
</script>

<div class="demo-wrapper pc">
  <div class="demo-index">
    <ul class="demo-index-list">
      
      <li class="demo-index-item">
        <a href="#demo-guide">开发指南</a>
      </li>
      <li class="demo-index-item">
        <a href="#demo-list">组件示例</a>
      </li>
       
      <li class="demo-index-item demo-index-item-sub">
        <a href="#number-picker-0">基本用法</a>
      </li>
      
      <li class="demo-index-item demo-index-item-sub">
        <a href="#number-picker-2">不可直接输入</a>
      </li>
      
      <li class="demo-index-item demo-index-item-sub">
        <a href="#number-picker-3">最大最小值</a>
      </li>
      
      <li class="demo-index-item demo-index-item-sub">
        <a href="#number-picker-5">步长</a>
      </li>
      
      <li class="demo-index-item demo-index-item-sub">
        <a href="#number-picker-4">大小</a>
      </li>
      
      <li class="demo-index-item demo-index-item-sub">
        <a href="#number-picker-1">不可用</a>
      </li>
       
      <li class="demo-index-item">
        <a href="#demo-api">API</a>
      </li>
      
    </ul>
  </div>

  
  <div class="demo-header">
    <div class="title">
       数字输入框  NumberPicker
    </div>
  </div>
  <div class="demo-guide markdown" id="demo-guide"><h2 id="开发指南">开发指南<a href="#开发指南" class="anchor">#</a></h2><h3 id="何时使用">何时使用<a href="#何时使用" class="anchor">#</a></h3><p>数字选择器，并对输入的数据做正确性检查、自动订正。</p>
<h3 id="注意事项">注意事项<a href="#注意事项" class="anchor">#</a></h3><ol>
<li><p>自动订正可能会导致onChange返回值和你输入的数据不一样。</p>
</li>
<li><p>其中有些中间输入状态无法触发onChange，主要考虑到自动订正可能永远无法到达想要的值了。例如：</p>
<ul>
<li><code>0</code>=&gt;<code>0.</code>=&gt;<code>0.0</code>=&gt;<code>0.01</code>  中间两步不会触发onChange，因为如果订正会一直停留在0导致永远无法到达想要的值</li>
<li>min=10 的情况下, 输入 <code>1</code>=&gt;<code>12</code>  第一步 <code>1</code> 不会触发onChange也不会订正数据，因为数字是一个一个输入的</li>
</ul>
</li>
<li><p>如果输入时没触发onChange，会在onBlur检测数据正确性并触发onChange</p>
</li>
</ol>
<h2 id="api">API<a href="#api" class="anchor">#</a></h2><h3 id="numberpicker">NumberPicker<a href="#numberpicker" class="anchor">#</a></h3><table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>size</td>
<td>大小<br><br><strong>可选值</strong>:<br>&#39;large&#39;, &#39;medium&#39;</td>
<td>Enum</td>
<td>&#39;medium&#39;</td>
</tr>
<tr>
<td>type</td>
<td>设置类型<br><br><strong>可选值</strong>:<br>&#39;normal&#39;(普通)<br>&#39;inline&#39;(内联)</td>
<td>Enum</td>
<td>&#39;normal&#39;</td>
</tr>
<tr>
<td>value</td>
<td>当前值</td>
<td>Number</td>
<td>-</td>
</tr>
<tr>
<td>defaultValue</td>
<td>默认值</td>
<td>Number</td>
<td>0</td>
</tr>
<tr>
<td>disabled</td>
<td>是否禁用</td>
<td>Boolean</td>
<td>-</td>
</tr>
<tr>
<td>step</td>
<td>步长</td>
<td>Number/String</td>
<td>1</td>
</tr>
<tr>
<td>precision</td>
<td>保留小数点后位数</td>
<td>Number</td>
<td>0</td>
</tr>
<tr>
<td>editable</td>
<td>用户是否可以输入</td>
<td>Boolean</td>
<td>true</td>
</tr>
<tr>
<td>autoFocus</td>
<td>自动焦点</td>
<td>Boolean</td>
<td>-</td>
</tr>
<tr>
<td>onChange</td>
<td>数值被改变的事件<br><br><strong>签名</strong>:<br>Function(value: Number, e: Event) =&gt; void<br><strong>参数</strong>:<br><em>value</em>: {Number} 数据<br>_e_: {Event} DOM事件对象</td>
<td>Function</td>
<td>func.noop</td>
</tr>
<tr>
<td>onKeyDown</td>
<td>键盘按下<br><br><strong>签名</strong>:<br>Function() =&gt; void</td>
<td>Function</td>
<td>func.noop</td>
</tr>
<tr>
<td>onFocus</td>
<td>焦点获得<br><br><strong>签名</strong>:<br>Function() =&gt; void</td>
<td>Function</td>
<td>-</td>
</tr>
<tr>
<td>onBlur</td>
<td>焦点失去<br><br><strong>签名</strong>:<br>Function() =&gt; void</td>
<td>Function</td>
<td>func.noop</td>
</tr>
<tr>
<td>onCorrect</td>
<td>数值订正后的回调<br><br><strong>签名</strong>:<br>Function(obj: Object) =&gt; void<br><strong>参数</strong>:<br><em>obj</em>: {Object} {currentValue,oldValue:String}</td>
<td>Function</td>
<td>func.noop</td>
</tr>
<tr>
<td>max</td>
<td>最大值</td>
<td>Number</td>
<td>Infinity</td>
</tr>
<tr>
<td>min</td>
<td>最小值</td>
<td>Number</td>
<td>-Infinity</td>
</tr>
</tbody>
</table>
</div>
  

  <div class="demo-list" id="demo-list">
    
    <div class="demo-list-item" id="number-picker-0">
      <div class="demo-list-item-header">
        <a href="#number-picker-0" class="title">基本用法</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-number-picker-0"></div>
          <script>var mountNode = document.getElementById('react-app-number-picker-0');</script> <script>(function(){"use strict";

var _next = require("@alife/next");

function onChange(value, e) {
    console.log(value, e.type, e.triggerType);
}

ReactDOM.render(React.createElement(
    "div",
    null,
    React.createElement(_next.NumberPicker, { onChange: onChange }),
    React.createElement("br", null),
    React.createElement("br", null),
    React.createElement(_next.NumberPicker, { type: "inline", onChange: onChange })
), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { NumberPicker } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onChange</span>(<span class="hljs-params">value, e</span>) </span>{
    <span class="hljs-built_in">console</span>.log(value, e.type, e.triggerType);
}

ReactDOM.render(
    &lt;div&gt;
        &lt;NumberPicker onChange={onChange}/&gt;
        &lt;br/&gt;&lt;br/&gt;
        &lt;NumberPicker type="inline" onChange={onChange}/&gt;
    &lt;/div&gt;,
    mountNode
);</code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p>onChange 第二个参数 e.type 可以获取事件类型。</p>
<p>如果是点击<code>+</code> <code>-</code> 触发，可以通过 <code>e.triggerType</code> 获取</p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
    <div class="demo-list-item" id="number-picker-2">
      <div class="demo-list-item-header">
        <a href="#number-picker-2" class="title">不可直接输入</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-number-picker-2"></div>
          <script>var mountNode = document.getElementById('react-app-number-picker-2');</script> <script>(function(){'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _next = require('@alife/next');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var App = function (_React$Component) {
    _inherits(App, _React$Component);

    function App(props) {
        _classCallCheck(this, App);

        var _this = _possibleConstructorReturn(this, (App.__proto__ || Object.getPrototypeOf(App)).call(this, props));

        _this.state = {
            editable: false,
            value: 0
        };
        return _this;
    }

    _createClass(App, [{
        key: 'toogle',
        value: function toogle() {
            this.setState({
                editable: !this.state.editable
            });
        }
    }, {
        key: 'onChange',
        value: function onChange(value) {
            console.log('changed', value);
            this.setState({
                value: value
            });
        }
    }, {
        key: 'render',
        value: function render() {
            return React.createElement(
                'div',
                null,
                React.createElement(_next.NumberPicker, { onChange: this.onChange.bind(this), value: this.state.value,
                    editable: this.state.editable }),
                React.createElement('br', null),
                React.createElement('br', null),
                React.createElement(
                    _next.Button,
                    { onClick: this.toogle.bind(this) },
                    'Toggle to ',
                    !this.state.editable ? 'editable' : 'uneditable'
                )
            );
        }
    }]);

    return App;
}(React.Component);

ReactDOM.render(React.createElement(App, null), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { NumberPicker, Button } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
    <span class="hljs-keyword">constructor</span>(props) {
        <span class="hljs-keyword">super</span>(props);
        <span class="hljs-keyword">this</span>.state = {
            <span class="hljs-attr">editable</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">value</span>: <span class="hljs-number">0</span>
        };
    }

    toogle() {
        <span class="hljs-keyword">this</span>.setState({
            <span class="hljs-attr">editable</span>: !<span class="hljs-keyword">this</span>.state.editable
        });
    }

    onChange(value) {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'changed'</span>, value);
        <span class="hljs-keyword">this</span>.setState({
            <span class="hljs-attr">value</span>: value
        });
    }

    render() {
        <span class="hljs-keyword">return</span> (<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">NumberPicker</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{this.onChange.bind(this)}</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{this.state.value}</span>
                          <span class="hljs-attr">editable</span>=<span class="hljs-string">{this.state.editable}/</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{this.toogle.bind(this)}</span>&gt;</span>Toggle to {!this.state.editable ? 'editable' : 'uneditable'}<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>);
    }
}
ReactDOM.render(<span class="hljs-tag">&lt;<span class="hljs-name">App</span>/&gt;</span>, mountNode);</span></code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p>用户不可直接输入编辑数据</p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
    <div class="demo-list-item" id="number-picker-3">
      <div class="demo-list-item-header">
        <a href="#number-picker-3" class="title">最大最小值</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-number-picker-3"></div>
          <script>var mountNode = document.getElementById('react-app-number-picker-3');</script> <script>(function(){"use strict";

var _next = require("@alife/next");

function onChange(value, e) {
    console.log(value, e);
}

function onCorrect(obj) {
    console.log(obj);
}
ReactDOM.render(React.createElement(
    "div",
    null,
    React.createElement(_next.NumberPicker, { type: "inline", step: 3, min: 6, max: 30, defaultValue: 6,
        onChange: onChange, onCorrect: onCorrect })
), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { NumberPicker } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onChange</span>(<span class="hljs-params">value, e</span>) </span>{
    <span class="hljs-built_in">console</span>.log(value, e);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onCorrect</span>(<span class="hljs-params">obj</span>) </span>{
    <span class="hljs-built_in">console</span>.log(obj);
}
ReactDOM.render(
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">NumberPicker</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"inline"</span> <span class="hljs-attr">step</span>=<span class="hljs-string">{3}</span> <span class="hljs-attr">min</span>=<span class="hljs-string">{6}</span> <span class="hljs-attr">max</span>=<span class="hljs-string">{30}</span> <span class="hljs-attr">defaultValue</span>=<span class="hljs-string">{6}</span>
                      <span class="hljs-attr">onChange</span>=<span class="hljs-string">{onChange}</span> <span class="hljs-attr">onCorrect</span>=<span class="hljs-string">{onCorrect}/</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>,
    mountNode
);</span></code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p>min max 来限制value的最大最小值。</p>
<p>当数据自动订正会触发 onCorrect</p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
    <div class="demo-list-item" id="number-picker-5">
      <div class="demo-list-item-header">
        <a href="#number-picker-5" class="title">步长</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-number-picker-5"></div>
          <script>var mountNode = document.getElementById('react-app-number-picker-5');</script> <script>(function(){'use strict';

var _next = require('@alife/next');

function onChange(value) {
    console.log('changed', value);
}
function onCorrect(obj) {
    console.log(obj);
}
ReactDOM.render(React.createElement(
    'div',
    null,
    React.createElement(_next.NumberPicker, { onChange: onChange, onCorrect: onCorrect, step: .01 })
), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { NumberPicker } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onChange</span>(<span class="hljs-params">value</span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'changed'</span>, value);
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onCorrect</span>(<span class="hljs-params">obj</span>) </span>{
    <span class="hljs-built_in">console</span>.log(obj);
}
ReactDOM.render(
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">NumberPicker</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{onChange}</span> <span class="hljs-attr">onCorrect</span>=<span class="hljs-string">{onCorrect}</span> <span class="hljs-attr">step</span>=<span class="hljs-string">{.01}/</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>, mountNode);</span></code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p>通过step控制每次加减步长</p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
    <div class="demo-list-item" id="number-picker-4">
      <div class="demo-list-item-header">
        <a href="#number-picker-4" class="title">大小</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-number-picker-4"></div>
          <script>var mountNode = document.getElementById('react-app-number-picker-4');</script> <script>(function(){"use strict";

var _next = require("@alife/next");

ReactDOM.render(React.createElement(
    "div",
    null,
    React.createElement(_next.NumberPicker, { size: "large" }),
    React.createElement("br", null),
    React.createElement("br", null),
    React.createElement(_next.NumberPicker, { size: "large", type: "inline" })
), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { NumberPicker } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

ReactDOM.render(
    &lt;div&gt;
        &lt;NumberPicker size="large" /&gt;
        &lt;br/&gt;&lt;br/&gt;
        &lt;NumberPicker size="large" type="inline" /&gt;
    &lt;/div&gt;,
    mountNode
);</code></pre></div>
        </div>
        <div class="demo-list-item-description">
          

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
    <div class="demo-list-item" id="number-picker-1">
      <div class="demo-list-item-header">
        <a href="#number-picker-1" class="title">不可用</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-number-picker-1"></div>
          <script>var mountNode = document.getElementById('react-app-number-picker-1');</script> <script>(function(){"use strict";

var _next = require("@alife/next");

ReactDOM.render(React.createElement(
    "div",
    null,
    React.createElement(_next.NumberPicker, { disabled: true }),
    React.createElement("br", null),
    React.createElement("br", null),
    React.createElement(_next.NumberPicker, { type: "inline", disabled: true })
), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { NumberPicker } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

ReactDOM.render(
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">NumberPicker</span> <span class="hljs-attr">disabled</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">NumberPicker</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"inline"</span> <span class="hljs-attr">disabled</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>,
    mountNode
);</span></code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p>不可用的 number picker。</p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
  </div>
  <div class="demo-api">
    <div class="title">API</div>
    <div class="demo-api-body markdown" id="demo-api"></div>
  </div>
</div>

  <script src="./statics/common.js"></script>
  <script src="./statics/demo-util.js"></script>
</body>

</html>
