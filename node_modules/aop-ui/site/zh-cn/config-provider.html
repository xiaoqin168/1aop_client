

<!doctype html>
<html>

<head>
  <title>ConfigProvider</title>
  <meta charset="utf-8" />
  <meta name="description" content="Fusion Dev" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/png" href="./statics/TB1LG1yhMoQMeJjy0FoXXcShVXa-32-33.png" sizes="32x32">
  <link rel="stylesheet" href="./statics/style-demo.css"> 
<link rel="stylesheet" href="./statics/next.min.css"></link>

  <script src="./statics/react-16-2-0-react-development-js,react-16-2-0-react-dom-development-js,jquery-1-11-3-jquery-min.js"></script>
  <script src="./statics/prop-types.min.js"></script>
  <script src="./statics/moment-with-locales.min.js"></script>
</head>

<body><script>
with(document)with(body)with(insertBefore(createElement("script"),firstChild))setAttribute("exparams","category=&userid=&aplus&yunid=&&trid=0be21d0415249006517364568e8c06&asid=AQAAAAAsI+Rav2XwVQAAAAC2oU0PjHx57w==",id="tb-beacon-aplus",src=(location>"https"?"//g":"//g")+".alicdn.com/alilog/mlog/aplus_v2.js")
</script>

  
<script src="./statics/common-js,next.js"></script>
<script src="./statics/next-with-locales.min.js"></script>
<script>
  window.react = window.React;
  window['react-dom'] = window.ReactDOM;
  window['prop-types'] = window.PropTypes;
  window['@alife/next'] = window.Next;
  window.ConfigProvider = window.Next.ConfigProvider;
  window.customIcons = [];

  
  (function () {
    ConfigProvider.initLocales(window.Next.locales);
    var fusionLocale = 'zh_CN';
    ConfigProvider.setLanguage(fusionLocale === 'en_US' ? 'en-us' : 'zh-cn');
  })();
  
</script>

<div class="demo-wrapper pc">
  <div class="demo-index">
    <ul class="demo-index-list">
      
      <li class="demo-index-item">
        <a href="#demo-guide">开发指南</a>
      </li>
      <li class="demo-index-item">
        <a href="#demo-list">组件示例</a>
      </li>
       
      <li class="demo-index-item demo-index-item-sub">
        <a href="#config-provider-0">基本</a>
      </li>
      
      <li class="demo-index-item demo-index-item-sub">
        <a href="#config-provider-1">支持国际化的组件</a>
      </li>
      
      <li class="demo-index-item demo-index-item-sub">
        <a href="#config-provider-2">国际化</a>
      </li>
       
      <li class="demo-index-item">
        <a href="#demo-api">API</a>
      </li>
      
    </ul>
  </div>

  
  <div class="demo-header">
    <div class="title">
       全局配置 Next 组件  ConfigProvider
    </div>
  </div>
  <div class="demo-guide markdown" id="demo-guide"><h2 id="开发指南">开发指南<a href="#开发指南" class="anchor">#</a></h2><h3 id="何时使用">何时使用<a href="#何时使用" class="anchor">#</a></h3><ul>
<li>修改组件类名前缀，Next 组件类名的默认前缀都是 &#39;next-&#39;，如 &#39;next-btn&#39;，你可能在以下两种情况下想改变这个默认前缀：<ul>
<li>自定义组件品牌，如 &#39;my-btn&#39;，&#39;my-select&#39;</li>
<li>一个页面中同时引入两个主题，防止相同类名样式互相覆盖</li>
</ul>
</li>
<li>实现多语言文案切换</li>
<li>开启 Pure Render 模式，提高性能，注意同时可能会带来副作用</li>
</ul>
<h3 id="基本使用">基本使用<a href="#基本使用" class="anchor">#</a></h3><h4 id="指定多语言文案">指定多语言文案<a href="#指定多语言文案" class="anchor">#</a></h4><p>目前支持中英繁日四种语言。</p>
<div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { ConfigProvider, DatePicker } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;
<span class="hljs-keyword">import</span> enUS <span class="hljs-keyword">from</span> <span class="hljs-string">'@alife/next/lib/locale/en-us'</span>;
<span class="hljs-comment">// import zhCN from '@alife/next/lib/locale/zh-cn';</span>
<span class="hljs-comment">// import zhTW from '@alife/next/lib/locale/zh-tw';</span>
<span class="hljs-comment">// import jaJP from '@alife/next/lib/locale/ja-jp';</span>

<span class="hljs-comment">// 如果应用中直接引入的是 cdn 上的 next-with-locales.js 文件</span>
<span class="hljs-comment">// 需要按照下面的方式引入国际化文案文件</span>
<span class="hljs-comment">// const { ConfigProvider, DatePicker, locales } = window.Next;</span>
<span class="hljs-comment">// const enUS = locales['en-us'];</span>


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
    render() {
        <span class="hljs-keyword">return</span> (
            <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ConfigProvider</span> <span class="hljs-attr">locale</span>=<span class="hljs-string">{enUS}</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">DatePicker</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">ConfigProvider</span>&gt;</span></span>
        );
    }
}</code></pre></div><p>传入的 locale 对象格式如下：</p>
<div class="highlight"><pre><code class="javascript">{
    <span class="hljs-attr">DatePicker</span>: {
        <span class="hljs-attr">datePlaceholder</span>: <span class="hljs-string">'Select date'</span>,
        <span class="hljs-attr">monthPlaceholder</span>: <span class="hljs-string">'Select month'</span>,
        <span class="hljs-attr">yearPlaceholder</span>: <span class="hljs-string">'Select year'</span>,
        <span class="hljs-attr">rangeStartPlaceholder</span>: <span class="hljs-string">'Start date'</span>,
        <span class="hljs-attr">rangeEndPlaceholder</span>: <span class="hljs-string">'End date'</span>,
        <span class="hljs-attr">ok</span>: <span class="hljs-string">'OK'</span>,
        <span class="hljs-attr">clear</span>: <span class="hljs-string">'Clear'</span>
    },
    <span class="hljs-attr">Dialog</span>: {
        <span class="hljs-comment">// ...</span>
    },
    <span class="hljs-comment">// ...</span>
}</code></pre></div><h4 id="修改组件类名前缀">修改组件类名前缀<a href="#修改组件类名前缀" class="anchor">#</a></h4><ol>
<li><p>为你的应用包裹 ConfigProvider，并设置相应的 prefix</p>
<p>entry.jsx</p>
<div class="highlight"><pre><code class="javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
    render() {
        <span class="hljs-keyword">return</span> (
            <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ConfigProvider</span> <span class="hljs-attr">prefix</span>=<span class="hljs-string">"my-"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">Input</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">Button</span>&gt;</span>Submit<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">ConfigProvider</span>&gt;</span></span>
        );
    }
}</code></pre></div></li>
<li><p>scss 入口文件中在引入主题 scss 文件前，设置相应的 <code>$css-prefix</code></p>
<p>entry.scss</p>
<div class="highlight"><pre><code class="scss"><span class="hljs-variable">$css-prefix</span>: <span class="hljs-string">"my-"</span>;
@<span class="hljs-keyword">import</span> <span class="hljs-string">"~@alife/dpl-xxx/index.scss"</span>;</code></pre></div></li>
</ol>
<h4 id="开启-pure-render">开启 Pure Render<a href="#开启-pure-render" class="anchor">#</a></h4><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { ConfigProvider, DatePicker } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
    render() {
        <span class="hljs-keyword">return</span> (
            <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ConfigProvider</span> <span class="hljs-attr">pure</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">DatePicker</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">ConfigProvider</span>&gt;</span></span>
        );
    }
}</code></pre></div><h4 id="如何让组件支持-configprovider-？">如何让组件支持 ConfigProvider ？<a href="#如何让组件支持-configprovider-？" class="anchor">#</a></h4><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { ConfigProvider } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;
<span class="hljs-keyword">const</span> { config } = ConfigProvider;
<span class="hljs-keyword">import</span> locale <span class="hljs-keyword">from</span> <span class="hljs-string">'./locale'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Component</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
    <span class="hljs-keyword">static</span> propTypes = {
        <span class="hljs-attr">prefix</span>: PropTypes.string,
        <span class="hljs-attr">locale</span>: PropTypes.object,
        <span class="hljs-attr">pure</span>: PropTypes.bool
    };

    <span class="hljs-keyword">static</span> defaultProps = {
        <span class="hljs-attr">prefix</span>: <span class="hljs-string">'next-'</span>,
        <span class="hljs-attr">locale</span>: locale,
        <span class="hljs-attr">pure</span>: <span class="hljs-literal">false</span>
    };

    render() {
        <span class="hljs-keyword">const</span> { prefix, locale, pure } = <span class="hljs-keyword">this</span>.props;
        <span class="hljs-comment">// ...</span>
    }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> config(Component);</code></pre></div><h2 id="api">API<a href="#api" class="anchor">#</a></h2><h3 id="configprovider">ConfigProvider<a href="#configprovider" class="anchor">#</a></h3><table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
<th>类型</th>
<th>默认值</th>
</tr>
</thead>
<tbody>
<tr>
<td>pure</td>
<td>是否开启 Pure Render 模式，会提高性能，但是也会带来副作用</td>
<td>Boolean</td>
<td>-</td>
</tr>
<tr>
<td>children</td>
<td>组件树</td>
<td>ReactElement</td>
<td>-</td>
</tr>
</tbody>
</table>
<!-- api-extra-start -->
<h3 id="configprovider-config-component">ConfigProvider.config(Component)<a href="#configprovider-config-component" class="anchor">#</a></h3><p>传入组件，生成受 ConfigProvider 控制的 HOC 组件，如果组件没有声明 shouldComponentUpdate 方法，会添加如下 shouldComponentUpdate 方法以支持 ConfigProvider 的 pure 属性</p>
<div class="highlight"><pre><code class="javascript">Component.prototype.shouldComponentUpdate = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">shouldComponentUpdate</span>(<span class="hljs-params">nextProps, nextState</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.props.pure) {
        <span class="hljs-keyword">return</span> !shallowEqual(<span class="hljs-keyword">this</span>.props, nextProps) || !shallowEqual(<span class="hljs-keyword">this</span>.state, nextState);
    }

    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
};</code></pre></div><h3 id="configprovider-getcontextprops-props-displayname">ConfigProvider.getContextProps(props, displayName)<a href="#configprovider-getcontextprops-props-displayname" class="anchor">#</a></h3><p>传入组件的 props 和 displayName，得到和 childContext 计算过的包含有 preifx/locale/pure 的对象，一般用于通过静态方法生成脱离组件树的组件。</p>
<!-- api-extra-end -->
<h2 id="使用注意">使用注意<a href="#使用注意" class="anchor">#</a></h2><h3 id="减小应用中-webpack-打包-moment-体积">减小应用中 webpack 打包 moment 体积<a href="#减小应用中-webpack-打包-moment-体积" class="anchor">#</a></h3><p>Next 1.x 中将 moment 作为自己的 peerDependencies 而非 dependencies，所以用户需要自己在应用中引入 moment 的 cdn 文件 moment-with-locales.js 或者本地安装 moment 打包进自己的应用。对于后者，由于 moment 在引入 locale 文件时存在这样的代码：<code>require(&#39;./locale/&#39; + name)</code>，如果用 webpack 构建，会打包进所有的 <a href="https://github.com/moment/moment/tree/develop/locale" target="_blank">locale 文件</a>，增加构建后文件的体积，目前社区比较主流的解决方案有以下两种：</p>
<div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">var</span> webpack = <span class="hljs-built_in">require</span>(<span class="hljs-string">"webpack"</span>);
<span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-comment">// ...</span>
  plugins: [
    <span class="hljs-comment">// 打包指定需要的语言文件</span>
    <span class="hljs-keyword">new</span> webpack.ContextReplacementPlugin(<span class="hljs-regexp">/moment[\/\\]locale$/</span>, /zh-cn|ja/)
    <span class="hljs-comment">// 只打包有过引用的语言文件，应用中需要添加如：`import 'moment/locale/zh-cn';`</span>
    <span class="hljs-comment">// new webpack.IgnorePlugin(/^\.\/locale$/, /moment$/)</span>
  ]
};</code></pre></div><h3 id="为自定义组件添加-displayname">为自定义组件添加 displayName<a href="#为自定义组件添加-displayname" class="anchor">#</a></h3><p>ConfigProvider 获取组件对应的多语言文案，是通过组件的 displayName 或者 name 获取的，但是压缩混淆的过程中有可能会修改函数的 name，因此如果想支持在 ConfigProvider 下实现切换多语言切换，请为组件如下手动添加 displayName:</p>
<div class="highlight"><pre><code class="javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CustomComponent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
    <span class="hljs-keyword">static</span> displayName = <span class="hljs-string">'CustomComponent'</span>;
    <span class="hljs-comment">// ...</span>
}</code></pre></div><p>或者使用 <code>babel-plugin-transform-react-es6-displayname</code> 自动在编译期间添加 displayname。</p>
<h3 id="获取-hoc-组件内部组件的引用">获取 HOC 组件内部组件的引用<a href="#获取-hoc-组件内部组件的引用" class="anchor">#</a></h3><p>由于 HOC 本身的限制，我们不能直接像下面代码那样获取内部组件的引用，从而调用它的一些内部方法：</p>
<div class="highlight"><pre><code class="javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
    componentDidMount() {
        <span class="hljs-comment">// 报错</span>
        <span class="hljs-keyword">this</span>.refs.hoc.someMethod();
    }

    render() {
        <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">HOC</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"hoc"</span> /&gt;</span>
    }
}</span></code></pre></div><p>为了解决这个问题，我们为调用 config 方法生成的 HOC 组件添加了 getInstance 方法，你可以如下调用：</p>
<div class="highlight"><pre><code class="javascript"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
    componentDidMount() {
        <span class="hljs-keyword">this</span>.refs.hoc.getInstance().someMethod();
    }

    render() {
        <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">HOC</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"hoc"</span> /&gt;</span>
    }
}</span></code></pre></div></div>
  

  <div class="demo-list" id="demo-list">
    
    <div class="demo-list-item" id="config-provider-0">
      <div class="demo-list-item-header">
        <a href="#config-provider-0" class="title">基本</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-config-provider-0"></div>
          <script>var mountNode = document.getElementById('react-app-config-provider-0');</script> <script>(function(){'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _next = require('@alife/next');

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var config = _next.ConfigProvider.config;

var Output = function (_React$Component) {
    _inherits(Output, _React$Component);

    function Output() {
        _classCallCheck(this, Output);

        return _possibleConstructorReturn(this, (Output.__proto__ || Object.getPrototypeOf(Output)).apply(this, arguments));
    }

    _createClass(Output, [{
        key: 'render',
        value: function render() {
            var _props = this.props,
                prefix = _props.prefix,
                locale = _props.locale,
                pure = _props.pure;


            return React.createElement(
                'ul',
                null,
                React.createElement(
                    'li',
                    null,
                    'prefix: ',
                    prefix
                ),
                React.createElement(
                    'li',
                    null,
                    'locale: ',
                    JSON.stringify(locale)
                ),
                React.createElement(
                    'li',
                    null,
                    'pure: ',
                    pure.toString()
                )
            );
        }
    }]);

    return Output;
}(React.Component);

Output.propTypes = {
    prefix: _propTypes2.default.string,
    locale: _propTypes2.default.object,
    pure: _propTypes2.default.bool
};
Output.defaultProps = {
    prefix: 'next-',
    locale: {
        hello: '你好'
    },
    pure: false
};


var NewOutput = config(Output);

var Demo = function (_React$Component2) {
    _inherits(Demo, _React$Component2);

    function Demo() {
        _classCallCheck(this, Demo);

        return _possibleConstructorReturn(this, (Demo.__proto__ || Object.getPrototypeOf(Demo)).apply(this, arguments));
    }

    _createClass(Demo, [{
        key: 'render',
        value: function render() {
            return React.createElement(
                _next.ConfigProvider,
                { prefix: 'custom-', locale: { Output: { hello: 'hello' } }, pure: true },
                React.createElement(NewOutput, null)
            );
        }
    }]);

    return Demo;
}(React.Component);

ReactDOM.render(React.createElement(Demo, null), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { ConfigProvider } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;
<span class="hljs-keyword">import</span> PropTypes <span class="hljs-keyword">from</span> <span class="hljs-string">'prop-types'</span>;

<span class="hljs-keyword">const</span> { config } = ConfigProvider;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Output</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
    <span class="hljs-keyword">static</span> propTypes = {
        <span class="hljs-attr">prefix</span>: PropTypes.string,
        <span class="hljs-attr">locale</span>: PropTypes.object,
        <span class="hljs-attr">pure</span>: PropTypes.bool
    };

    <span class="hljs-keyword">static</span> defaultProps = {
        <span class="hljs-attr">prefix</span>: <span class="hljs-string">'next-'</span>,
        <span class="hljs-attr">locale</span>: {
            <span class="hljs-attr">hello</span>: <span class="hljs-string">'你好'</span>
        },
        <span class="hljs-attr">pure</span>: <span class="hljs-literal">false</span>
    };

    render() {
        <span class="hljs-keyword">const</span> { prefix, locale, pure } = <span class="hljs-keyword">this</span>.props;

        <span class="hljs-keyword">return</span> (
            <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>prefix: {prefix}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>locale: {JSON.stringify(locale)}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>pure: {pure.toString()}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span>
        );
    }
}

<span class="hljs-keyword">const</span> NewOutput = config(Output);

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Demo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
    render() {
        <span class="hljs-keyword">return</span> (
            <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ConfigProvider</span> <span class="hljs-attr">prefix</span>=<span class="hljs-string">"custom-"</span> <span class="hljs-attr">locale</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">Output:</span> { <span class="hljs-attr">hello:</span> '<span class="hljs-attr">hello</span>' } }} <span class="hljs-attr">pure</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">NewOutput</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">ConfigProvider</span>&gt;</span></span>
        );
    }
}

ReactDOM.render(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Demo</span> /&gt;</span>, mountNode);</span></code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p>最简单的用法，展示 ConfigProvider 是如何工作的。</p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
    <div class="demo-list-item" id="config-provider-1">
      <div class="demo-list-item-header">
        <a href="#config-provider-1" class="title">支持国际化的组件</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-config-provider-1"></div>
          <script>var mountNode = document.getElementById('react-app-config-provider-1');</script> <script>(function(){'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _next = require('@alife/next');

var _enUs = require('@alife/next/lib/locale/en-us');

var _enUs2 = _interopRequireDefault(_enUs);

var _zhCn = require('@alife/next/lib/locale/zh-cn');

var _zhCn2 = _interopRequireDefault(_zhCn);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var RangePicker = _next.DatePicker.RangePicker;

var transferDataSource = function () {
    var dataSource = [];

    for (var i = 0; i < 10; i++) {
        dataSource.push({
            label: 'content ' + i,
            value: '' + i,
            disabled: i % 4 === 0
        });
    }

    return dataSource;
}();

var Demo = function (_React$Component) {
    _inherits(Demo, _React$Component);

    function Demo(props) {
        _classCallCheck(this, Demo);

        var _this = _possibleConstructorReturn(this, (Demo.__proto__ || Object.getPrototypeOf(Demo)).call(this, props));

        _this.state = {
            lang: 'en-us'
        };

        _this.changeLang = _this.changeLang.bind(_this);
        _this.showDialog = _this.showDialog.bind(_this);
        return _this;
    }

    _createClass(Demo, [{
        key: 'changeLang',
        value: function changeLang(lang) {
            this.setState({
                lang: lang
            });
        }
    }, {
        key: 'showDialog',
        value: function showDialog() {
            _next.Dialog.confirm({
                title: 'Confirm',
                content: 'Are you sure you want to delete all alert e-mails waiting in queue?'
            });
        }
    }, {
        key: 'render',
        value: function render() {
            var locale = this.state.lang === 'en-us' ? _enUs2.default : _zhCn2.default;

            return React.createElement(
                'div',
                null,
                React.createElement(
                    'div',
                    { className: 'change-locale' },
                    React.createElement(
                        'span',
                        { style: { marginRight: 16 } },
                        'Change locale of components: '
                    ),
                    React.createElement(
                        _next.Radio.Group,
                        { shape: 'button', size: 'large', defaultValue: 'en-us', onChange: this.changeLang },
                        React.createElement(
                            _next.Radio,
                            { key: 'en', value: 'en-us' },
                            'English'
                        ),
                        React.createElement(
                            _next.Radio,
                            { key: 'cn', value: 'zh-cn' },
                            '\u4E2D\u6587'
                        )
                    )
                ),
                React.createElement(
                    _next.ConfigProvider,
                    { locale: locale },
                    React.createElement(
                        'div',
                        { className: 'locale-components' },
                        React.createElement(
                            _next.Button,
                            { type: 'primary', onClick: this.showDialog },
                            'Show Dialog'
                        ),
                        React.createElement(_next.Select, { style: { width: '150px' }, dataSource: ['hello', 'bye'] }),
                        React.createElement(_next.DatePicker, null),
                        React.createElement(_next.TimePicker, null),
                        React.createElement(RangePicker, null),
                        React.createElement(_next.Calendar, { style: { width: '350px', padding: '12px', border: '1px solid #C4C6CF', borderRadius: '3px' }, shape: 'card' }),
                        React.createElement(_next.Pagination, { defaultCurrent: 2 }),
                        React.createElement(_next.Transfer, { dataSource: transferDataSource, defaultValue: ['3'], defaultLeftChecked: ['1'], titles: ['Source', 'Target'] }),
                        React.createElement(
                            _next.Table,
                            { style: { width: '500px' }, dataSource: [] },
                            React.createElement(_next.Table.Column, { title: 'Name', dataIndex: 'name', filters: [{ label: 'Filter 1', value: '1' }, { label: 'Filter 2', value: '2' }] }),
                            React.createElement(_next.Table.Column, { title: 'Age', dataIndex: 'age' })
                        ),
                        React.createElement(
                            _next.Card,
                            { style: { width: '300px' }, title: 'Title' },
                            React.createElement('div', { style: { height: '250px', background: '#F7F8FA' } })
                        ),
                        React.createElement(
                            _next.Timeline,
                            { fold: [{ foldArea: [1, 2], foldShow: true }] },
                            React.createElement(_next.Timeline.Item, { title: 'Signed', content: 'Signed, sign Alibaba is a small post office, thanks to the use of STO, look forward to once again at your service', time: '2016-06-10 10:30:00', state: 'process' }),
                            React.createElement(_next.Timeline.Item, { title: 'Ship', content: 'Express has arrived in Hangzhou, Zhejiang Binjiang company', time: '2016-06-10 09:30:00' }),
                            React.createElement(_next.Timeline.Item, { title: 'Ship', content: 'Zhejiang Hangzhou Riverside company sent a member for you to send pieces', time: '2016-06-10 09:03:00' }),
                            React.createElement(_next.Timeline.Item, { title: 'Ship', content: 'Zhejiang Hangzhou Transshipment Center has been issued', time: '2016-06-10 06:10:00' })
                        ),
                        React.createElement(_next.Upload.Dragger, { style: { width: '500px' },
                            listType: 'image',
                            action: 'http://upload-server.shuttle.alibaba.net/upload.do',
                            accept: 'image/png, image/jpg, image/jpeg, image/gif, image/bmp' })
                    )
                )
            );
        }
    }]);

    return Demo;
}(React.Component);

ReactDOM.render(React.createElement(Demo, null), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { ConfigProvider, Button, Radio, Calendar, Card, DatePicker, Dialog, Pagination, TimePicker, Timeline, Transfer, Select, Upload, Table } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

<span class="hljs-keyword">import</span> enUS <span class="hljs-keyword">from</span> <span class="hljs-string">'@alife/next/lib/locale/en-us'</span>;

<span class="hljs-keyword">import</span> zhCN <span class="hljs-keyword">from</span> <span class="hljs-string">'@alife/next/lib/locale/zh-cn'</span>;

<span class="hljs-keyword">const</span> RangePicker = DatePicker.RangePicker;

<span class="hljs-keyword">const</span> transferDataSource = <span class="hljs-function">(<span class="hljs-params">(</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> dataSource = [];

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
        dataSource.push({
            <span class="hljs-attr">label</span>: <span class="hljs-string">`content <span class="hljs-subst">${i}</span>`</span>,
            <span class="hljs-attr">value</span>: <span class="hljs-string">`<span class="hljs-subst">${i}</span>`</span>,
            <span class="hljs-attr">disabled</span>: i % <span class="hljs-number">4</span> === <span class="hljs-number">0</span>
        });
    }

    <span class="hljs-keyword">return</span> dataSource;
})();

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Demo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
    <span class="hljs-keyword">constructor</span>(props) {
        <span class="hljs-keyword">super</span>(props);

        <span class="hljs-keyword">this</span>.state = {
            <span class="hljs-attr">lang</span>: <span class="hljs-string">'en-us'</span>
        };

        <span class="hljs-keyword">this</span>.changeLang = <span class="hljs-keyword">this</span>.changeLang.bind(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">this</span>.showDialog = <span class="hljs-keyword">this</span>.showDialog.bind(<span class="hljs-keyword">this</span>);
    }

    changeLang(lang) {
        <span class="hljs-keyword">this</span>.setState({
            lang
        });
    }

    showDialog() {
        Dialog.confirm({
            <span class="hljs-attr">title</span>: <span class="hljs-string">'Confirm'</span>,
            <span class="hljs-attr">content</span>: <span class="hljs-string">'Are you sure you want to delete all alert e-mails waiting in queue?'</span>
        });
    }

    render() {
        <span class="hljs-keyword">const</span> locale = <span class="hljs-keyword">this</span>.state.lang === <span class="hljs-string">'en-us'</span> ? enUS : zhCN;

        <span class="hljs-keyword">return</span> (
            &lt;div&gt;
                &lt;div className="change-locale"&gt;
                    &lt;span style={{ marginRight: 16 }}&gt;Change locale of components: &lt;/span&gt;
                    &lt;Radio.Group shape="button" size="large" defaultValue="en-us" onChange={this.changeLang}&gt;
                        &lt;Radio key="en" value="en-us"&gt;English&lt;/Radio&gt;
                        &lt;Radio key="cn" value="zh-cn"&gt;中文&lt;/Radio&gt;
                    &lt;/Radio.Group&gt;
                &lt;/div&gt;
                &lt;ConfigProvider locale={locale}&gt;
                    &lt;div className="locale-components"&gt;
                        &lt;Button type="primary" onClick={this.showDialog}&gt;Show Dialog&lt;/Button&gt;
                        &lt;Select style={{ width: '150px' }} dataSource={['hello', 'bye']} /&gt;
                        &lt;DatePicker /&gt;
                        &lt;TimePicker /&gt;
                        &lt;RangePicker /&gt;
                        &lt;Calendar style={{ width: '350px', padding: '12px', border: '1px solid #C4C6CF', borderRadius: '3px' }} shape="card" /&gt;
                        &lt;Pagination defaultCurrent={2} /&gt;
                        &lt;Transfer dataSource={transferDataSource} defaultValue={['3']} defaultLeftChecked={['1']} titles={['Source', 'Target']} /&gt;
                        &lt;Table style={{ width: '500px' }} dataSource={[]}&gt;
                            &lt;Table.Column title="Name" dataIndex="name" filters={[{ label: 'Filter 1', value: '1' }, { label: 'Filter 2', value: '2' }]} /&gt;
                            &lt;Table.Column title="Age" dataIndex="age" /&gt;
                        &lt;/Table&gt;
                        &lt;Card style={{ width: '300px' }} title="Title"&gt;
                            &lt;div style={{ height: '250px', background: '#F7F8FA' }}&gt;&lt;/div&gt;
                        &lt;/Card&gt;
                        &lt;Timeline fold={[{foldArea: [1, 2], foldShow: true}]}&gt;
                            &lt;Timeline.Item title="Signed" content="Signed, sign Alibaba is a small post office, thanks to the use of STO, look forward to once again at your service" time={'2016-06-10 10:30:00'} state="process"/&gt;
                            &lt;Timeline.Item title="Ship" content="Express has arrived in Hangzhou, Zhejiang Binjiang company" time={'2016-06-10 09:30:00'} /&gt;
                            &lt;Timeline.Item title="Ship" content="Zhejiang Hangzhou Riverside company sent a member for you to send pieces" time={'2016-06-10 09:03:00'} /&gt;
                            &lt;Timeline.Item title="Ship" content="Zhejiang Hangzhou Transshipment Center has been issued" time={'2016-06-10 06:10:00'} /&gt;
                        &lt;/Timeline&gt;
                         &lt;Upload.Dragger style={{ width: '500px' }}
                            listType="image"
                            action="http://upload-server.shuttle.alibaba.net/upload.do"
                            accept="image/png, image/jpg, image/jpeg, image/gif, image/bmp" /&gt;
                    &lt;/div&gt;
                &lt;/ConfigProvider&gt;
            &lt;/div&gt;
        );
    }
}

ReactDOM.render(&lt;Demo /&gt;, mountNode);</code></pre></div><style type="text/css">.change-locale {
    border-bottom: 1px solid #d9d9d9;
    padding-bottom: 16px;
}

.locale-components > * {
    margin: 16px 0;
    display: block;
}</style><div class="highlight"><pre><code class="css"><span class="hljs-selector-class">.change-locale</span> {
    <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#d9d9d9</span>;
    <span class="hljs-attribute">padding-bottom</span>: <span class="hljs-number">16px</span>;
}

<span class="hljs-selector-class">.locale-components</span> &gt; * {
    <span class="hljs-attribute">margin</span>: <span class="hljs-number">16px</span> <span class="hljs-number">0</span>;
    <span class="hljs-attribute">display</span>: block;
}</code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p>展示目前 Next 组件中支持国际化的组件。</p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
    <div class="demo-list-item" id="config-provider-2">
      <div class="demo-list-item-header">
        <a href="#config-provider-2" class="title">国际化</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-config-provider-2"></div>
          <script>var mountNode = document.getElementById('react-app-config-provider-2');</script> <script>(function(){'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _next = require('@alife/next');

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var config = _next.ConfigProvider.config,
    getContextProps = _next.ConfigProvider.getContextProps;
var Option = _next.Select.Option;


var locales = {
    'zh-cn': {
        ClickMe: {
            clickMe: '点我！'
        },
        Toast: {
            close: '关闭'
        }
    },
    'en-us': {
        ClickMe: {
            clickMe: 'click me!'
        },
        Toast: {
            close: 'close'
        }
    }
};

var ClickMe = function (_React$Component) {
    _inherits(ClickMe, _React$Component);

    function ClickMe() {
        _classCallCheck(this, ClickMe);

        return _possibleConstructorReturn(this, (ClickMe.__proto__ || Object.getPrototypeOf(ClickMe)).apply(this, arguments));
    }

    _createClass(ClickMe, [{
        key: 'render',
        value: function render() {
            var _props = this.props,
                locale = _props.locale,
                onClick = _props.onClick;

            return React.createElement(
                _next.Button,
                { onClick: onClick },
                locale.clickMe
            );
        }
    }]);

    return ClickMe;
}(React.Component);

ClickMe.propTypes = {
    locale: _propTypes2.default.object,
    onClick: _propTypes2.default.func
};
ClickMe.defaultProps = {
    locale: locales['zh-cn'].ClickMe,
    onClick: function onClick() {}
};

var Toast = function (_React$Component2) {
    _inherits(Toast, _React$Component2);

    function Toast(props) {
        _classCallCheck(this, Toast);

        var _this2 = _possibleConstructorReturn(this, (Toast.__proto__ || Object.getPrototypeOf(Toast)).call(this, props));

        _this2.state = {
            visible: false
        };

        _this2.handleClose = _this2.handleClose.bind(_this2);
        return _this2;
    }

    _createClass(Toast, [{
        key: 'handleClose',
        value: function handleClose() {
            this.setState({
                visible: false
            });
            this.props.afterClose();
        }
    }, {
        key: 'render',
        value: function render() {
            return React.createElement(
                'div',
                { className: 'toast' },
                React.createElement(
                    _next.Button,
                    { type: 'primary', onClick: this.handleClose },
                    this.props.locale.close
                )
            );
        }
    }]);

    return Toast;
}(React.Component);

Toast.propTypes = {
    locale: _propTypes2.default.object,
    afterClose: _propTypes2.default.func
};
Toast.defaultProps = {
    locale: locales['zh-cn'].Toast,
    afterClose: function afterClose() {}
};

Toast.create = function () {
    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    var mountNode = document.createElement('div');
    document.body.appendChild(mountNode);

    var closeChain = function closeChain() {
        ReactDOM.unmountComponentAtNode(mountNode);
        document.body.removeChild(mountNode);
    };

    var newLocale = getContextProps(props, 'Toast').locale;

    ReactDOM.render(React.createElement(Toast, { afterClose: closeChain, locale: newLocale }), mountNode);
};

var NewClickMe = config(ClickMe);
var NewToast = config(Toast);

var Demo = function (_React$Component3) {
    _inherits(Demo, _React$Component3);

    function Demo(props) {
        _classCallCheck(this, Demo);

        var _this3 = _possibleConstructorReturn(this, (Demo.__proto__ || Object.getPrototypeOf(Demo)).call(this, props));

        _this3.state = {
            language: 'zh-cn'
        };

        _this3.handleClick = _this3.handleClick.bind(_this3);
        _this3.handleChangeLanguage = _this3.handleChangeLanguage.bind(_this3);
        return _this3;
    }

    _createClass(Demo, [{
        key: 'handleClick',
        value: function handleClick() {
            NewToast.create();
        }
    }, {
        key: 'handleChangeLanguage',
        value: function handleChangeLanguage(language) {
            this.setState({
                language: language
            });
        }
    }, {
        key: 'render',
        value: function render() {
            var language = this.state.language;


            return React.createElement(
                _next.ConfigProvider,
                { locale: locales[language] },
                React.createElement(
                    'div',
                    null,
                    React.createElement(
                        'div',
                        { className: 'select-language' },
                        React.createElement(
                            _next.Select,
                            { value: language, onChange: this.handleChangeLanguage },
                            React.createElement(
                                Option,
                                { value: 'zh-cn' },
                                'zh-cn'
                            ),
                            React.createElement(
                                Option,
                                { value: 'en-us' },
                                'en-us'
                            )
                        )
                    ),
                    React.createElement(NewClickMe, { onClick: this.handleClick })
                )
            );
        }
    }]);

    return Demo;
}(React.Component);

ReactDOM.render(React.createElement(Demo, null), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { ConfigProvider, Button, Select } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

<span class="hljs-keyword">import</span> PropTypes <span class="hljs-keyword">from</span> <span class="hljs-string">'prop-types'</span>;

<span class="hljs-keyword">const</span> { config, getContextProps } = ConfigProvider;
<span class="hljs-keyword">const</span> { Option } = Select;

<span class="hljs-keyword">const</span> locales = {
    <span class="hljs-string">'zh-cn'</span>: {
        <span class="hljs-attr">ClickMe</span>: {
            <span class="hljs-attr">clickMe</span>: <span class="hljs-string">'点我！'</span>
        },
        <span class="hljs-attr">Toast</span>: {
            <span class="hljs-attr">close</span>: <span class="hljs-string">'关闭'</span>
        }
    },
    <span class="hljs-string">'en-us'</span>: {
        <span class="hljs-attr">ClickMe</span>: {
            <span class="hljs-attr">clickMe</span>: <span class="hljs-string">'click me!'</span>
        },
        <span class="hljs-attr">Toast</span>: {
            <span class="hljs-attr">close</span>: <span class="hljs-string">'close'</span>
        }
    }
};

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ClickMe</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
    <span class="hljs-keyword">static</span> propTypes = {
        <span class="hljs-attr">locale</span>: PropTypes.object,
        <span class="hljs-attr">onClick</span>: PropTypes.func
    };

    <span class="hljs-keyword">static</span> defaultProps = {
        <span class="hljs-attr">locale</span>: locales[<span class="hljs-string">'zh-cn'</span>].ClickMe,
        <span class="hljs-attr">onClick</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {}
    };

    render() {
        <span class="hljs-keyword">const</span> { locale, onClick } = <span class="hljs-keyword">this</span>.props;
        <span class="hljs-keyword">return</span> (
            <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{onClick}</span>&gt;</span>{locale.clickMe}<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span></span>
        );
    }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Toast</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
    <span class="hljs-keyword">static</span> propTypes = {
        <span class="hljs-attr">locale</span>: PropTypes.object,
        <span class="hljs-attr">afterClose</span>: PropTypes.func
    };

    <span class="hljs-keyword">static</span> defaultProps = {
        <span class="hljs-attr">locale</span>: locales[<span class="hljs-string">'zh-cn'</span>].Toast,
        <span class="hljs-attr">afterClose</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {}
    };

    <span class="hljs-keyword">constructor</span>(props) {
        <span class="hljs-keyword">super</span>(props);

        <span class="hljs-keyword">this</span>.state = {
            <span class="hljs-attr">visible</span>: <span class="hljs-literal">false</span>
        };

        <span class="hljs-keyword">this</span>.handleClose = <span class="hljs-keyword">this</span>.handleClose.bind(<span class="hljs-keyword">this</span>);
    }

    handleClose() {
        <span class="hljs-keyword">this</span>.setState({
            <span class="hljs-attr">visible</span>: <span class="hljs-literal">false</span>
        });
        <span class="hljs-keyword">this</span>.props.afterClose();
    }

    render() {
        <span class="hljs-keyword">return</span> (
            <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"toast"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{this.handleClose}</span>&gt;</span>
                    {this.props.locale.close}
                <span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
        );
    }
}
Toast.create = <span class="hljs-function">(<span class="hljs-params">props = {}</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> mountNode = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>);
    <span class="hljs-built_in">document</span>.body.appendChild(mountNode);

    <span class="hljs-keyword">const</span> closeChain = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        ReactDOM.unmountComponentAtNode(mountNode);
        <span class="hljs-built_in">document</span>.body.removeChild(mountNode);
    };

    <span class="hljs-keyword">const</span> newLocale = getContextProps(props, <span class="hljs-string">'Toast'</span>).locale;

    ReactDOM.render(&lt;Toast afterClose={closeChain} locale={newLocale} /&gt;, mountNode);
};

const NewClickMe = config(ClickMe);
const NewToast = config(Toast);

class Demo extends React.Component {
    constructor(props) {
        super(props);

        this.state = {
            language: 'zh-cn'
        };

        this.handleClick = this.handleClick.bind(this);
        this.handleChangeLanguage = this.handleChangeLanguage.bind(this);
    }

    handleClick() {
        NewToast.create();
    }

    handleChangeLanguage(language) {
        this.setState({
            language
        });
    }

    render() {
        const { language } = this.state;

        return (
            &lt;ConfigProvider locale={locales[language]}&gt;
                &lt;div&gt;
                    &lt;div className="select-language"&gt;
                        &lt;Select value={language} onChange={this.handleChangeLanguage}&gt;
                            &lt;Option value="zh-cn"&gt;zh-cn&lt;/Option&gt;
                            &lt;Option value="en-us"&gt;en-us&lt;/Option&gt;
                        &lt;/Select&gt;
                    &lt;/div&gt;
                    &lt;NewClickMe onClick={this.handleClick} /&gt;
                &lt;/div&gt;
            &lt;/ConfigProvider&gt;
        );
    }
}

ReactDOM.render(&lt;Demo /&gt;, mountNode);</code></pre></div><style type="text/css">.toast {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    margin: auto;
    width: 200px;
    height: 100px;
    line-height: 100px;
    text-align: center;
    background: white;
    box-shadow: 3px 3px 5px 0 rgba(0, 0, 0, .32);
}

.toast .next-btn {
    margin: auto;
}

.select-language {
    margin-bottom: 20px;
}</style><div class="highlight"><pre><code class="css"><span class="hljs-selector-class">.toast</span> {
    <span class="hljs-attribute">position</span>: fixed;
    <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">margin</span>: auto;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;
    <span class="hljs-attribute">line-height</span>: <span class="hljs-number">100px</span>;
    <span class="hljs-attribute">text-align</span>: center;
    <span class="hljs-attribute">background</span>: white;
    <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">3px</span> <span class="hljs-number">3px</span> <span class="hljs-number">5px</span> <span class="hljs-number">0</span> <span class="hljs-built_in">rgba</span>(0, 0, 0, .32);
}

<span class="hljs-selector-class">.toast</span> <span class="hljs-selector-class">.next-btn</span> {
    <span class="hljs-attribute">margin</span>: auto;
}

<span class="hljs-selector-class">.select-language</span> {
    <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;
}</code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p>展示如何配合 ConfigProvider 实现具有国际化能力的组件。</p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
  </div>
  <div class="demo-api">
    <div class="title">API</div>
    <div class="demo-api-body markdown" id="demo-api"></div>
  </div>
</div>

  <script src="./statics/common.js"></script>
  <script src="./statics/demo-util.js"></script>
</body>

</html>
