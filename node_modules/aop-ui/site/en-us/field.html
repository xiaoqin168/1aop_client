

<!doctype html>
<html>

<head>
  <title>Field</title>
  <meta charset="utf-8" />
  <meta name="description" content="Fusion Dev" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/png" href="./statics/TB1LG1yhMoQMeJjy0FoXXcShVXa-32-33.png" sizes="32x32">
  <link rel="stylesheet" href="//g.alicdn.com/next/fusion-dev-static/3.4.32/style-demo.css?t=847086"> 
<link rel="stylesheet" href="./statics/next.min.css"></link>

  <script src="./statics/react-16-2-0-react-development-js,react-16-2-0-react-dom-development-js,jquery-1-11-3-jquery-min.js"></script>
  <script src="./statics/prop-types.min.js"></script>
  <script src="./statics/moment-with-locales.min.js"></script>
</head>

<body><script>
with(document)with(body)with(insertBefore(createElement("script"),firstChild))setAttribute("exparams","category=&userid=&aplus&yunid=&&trid=0be21d0615249006575176890e16db&asid=AQAAAAAzI+RaH+GGLwAAAACgnpe9+QgVSQ==",id="tb-beacon-aplus",src=(location>"https"?"//g":"//g")+".alicdn.com/alilog/mlog/aplus_v2.js")
</script>

  
<script src="./statics/common-js,next.js"></script>
<script src="./statics/next-with-locales.min.js"></script>
<script>
  window.react = window.React;
  window['react-dom'] = window.ReactDOM;
  window['prop-types'] = window.PropTypes;
  window['@alife/next'] = window.Next;
  window.ConfigProvider = window.Next.ConfigProvider;
  window.customIcons = [];

  
  (function () {
    ConfigProvider.initLocales(window.Next.locales);
    var fusionLocale = 'en_US';
    ConfigProvider.setLanguage(fusionLocale === 'en_US' ? 'en-us' : 'zh-cn');
  })();
  
</script>

<div class="demo-wrapper pc">
  <div class="demo-index">
    <ul class="demo-index-list">
      
      <li class="demo-index-item">
        <a href="#demo-guide">Development Guide</a>
      </li>
      <li class="demo-index-item">
        <a href="#demo-list">Exapmles</a>
      </li>
       
      <li class="demo-index-item demo-index-item-sub">
        <a href="#field-0">basic</a>
      </li>
      
      <li class="demo-index-item demo-index-item-sub">
        <a href="#field-3">custom value getter</a>
      </li>
      
      <li class="demo-index-item demo-index-item-sub">
        <a href="#field-4">controlled</a>
      </li>
      
      <li class="demo-index-item demo-index-item-sub">
        <a href="#field-6">custom errors</a>
      </li>
      
      <li class="demo-index-item demo-index-item-sub">
        <a href="#field-8">validate</a>
      </li>
      
      <li class="demo-index-item demo-index-item-sub">
        <a href="#field-5">redux</a>
      </li>
      
      <li class="demo-index-item demo-index-item-sub">
        <a href="#field-2">mix usage</a>
      </li>
      
      <li class="demo-index-item demo-index-item-sub">
        <a href="#field-9">custom valueName</a>
      </li>
      
      <li class="demo-index-item demo-index-item-sub">
        <a href="#field-1">custom</a>
      </li>
      
      <li class="demo-index-item demo-index-item-sub">
        <a href="#field-7">Array or Object</a>
      </li>
       
      <li class="demo-index-item">
        <a href="#demo-api">API</a>
      </li>
      
    </ul>
  </div>

  
  <div class="demo-header">
    <div class="title">
       Field
    </div>
  </div>
  <div class="demo-guide markdown" id="demo-guide"><h2 id="development-guide">Development Guide<a href="#development-guide" class="anchor">#</a></h2><h3 id="when-to-use">When to use<a href="#when-to-use" class="anchor">#</a></h3><p>Fields can be used to manage data when it comes to form data manipulation and validation. After being associated with a component, the form data can be automatically written back, read, and verified.</p>
<h3 id="use-caution">Use caution<a href="#use-caution" class="anchor">#</a></h3><ul>
<li>With Field <code>init</code> components, <code>value</code> <code>onChange</code> must be placed in init&#39;s third argument, otherwise it may be overridden by init.</li>
<li><code>Form</code> has been deeply optimized with <code>Field</code> for <code>data acquisition</code> and <code>automatic verification prompt</code>. It is recommended to use <code>Field</code> in <code>Form</code>. Please check Form demo.</li>
<li>initValue The defauValue of a similar component, which only takes effect when the component first renders (the ajax asynchronous invocation setting initValue may have missed the first render)</li>
</ul>
<h3 id="basic-use">basic use<a href="#basic-use" class="anchor">#</a></h3><pre>Class Demo extends React.Component {
    Field = new Field(this); // instance creation

    onClick = ()=&gt;{
        Console.log(this.field.getValue(&#39;name&#39;));
    }
    Render() {
        Const init = this.field.init;

        // Note: initVaue will only be assigned when the component is first initialized. If you are using an asynchronous assignment, use setValue
        Return &lt;div&gt;
            &lt;Input {...init(&#39;name&#39;,{initValue:&#39;first value&#39;})} /&gt;
            &lt;button onClick={this.onClick&gt;Get Data&lt;/button&gt;
        &lt;/div&gt;
    }
}</pre><h3 id="update-data">update data<a href="#update-data" class="anchor">#</a></h3><h4 id="event-updates">Event Updates<a href="#event-updates" class="anchor">#</a></h4><pre>Class Demo extends React.Component {
    Field = new Field(this);

    onClick = ()=&gt;{
        this.field.setValue(&#39;name&#39;, &#39;newvalue&#39;); // Assignment will automatically trigger render
    }
    Render() {
        Const init = this.field.init;

        Return &lt;div&gt;
            &lt;Input {...init(&#39;name&#39;)} /&gt;
            &lt;button onClick={this.onClick}&gt;Settings&lt;/button&gt;
        &lt;/div&gt;
    }
}</pre><h4 id="props-update">props update<a href="#props-update" class="anchor">#</a></h4><pre>Class Demo extends React.Component {
    Field = new Field(this);

    // Set the data before the component is mounted (this can be replaced with initValue)
    componentWillMount() {
        this.field.setValue(&#39;name&#39;, &#39;init Name&#39;)
    }
    // Receive data from props
    componentWillReceiveProps(nextProps) {
        this.field.setValue(&#39;name&#39;, nextProps.name)
    }
    Render() {
        Const init = this.field.init;

        Return &lt;div&gt;
            &lt;Input {...init(&#39;name&#39;)} /&gt;
        &lt;/div&gt;
    }
}</pre><h4 id="ajax-update">ajax update<a href="#ajax-update" class="anchor">#</a></h4><pre>Class Demo extends React.Component {
    Field = new Field(this);

    onClick = ()=&gt;{
        Ajax({
            Url:&#39;/demo.json&#39;,
            Success:(json)=&gt;{
                // Update of assignment in callback event
                this.field.setValue(&#39;name&#39;,json.name);
            }
        });
    }
    Render() {
        Const init = this.field.init;

        Return &lt;div&gt;
            &lt;Input {...init(&#39;name&#39;)} /&gt;
            &lt;button onClick={this.onClick}&gt;Settings&lt;/button&gt;
        &lt;/div&gt;
    }
}</pre><h4 id="onchange-update-monitoring">onChange update monitoring<a href="#onchange-update-monitoring" class="anchor">#</a></h4><p>Two usages:</p>
<ol>
<li>Unified management</li>
</ol>
<pre>Class Demo extends React.Component {
    Field = new Field(this,{
        onChange:(name, value) =&gt; {
          Switch(name) {
            Case &#39;name1&#39;:
              this.field.setValue(&#39;name2&#39;,&#39;value set by name1&#39;);
              Break;
            Case &#39;name2&#39;:
              this.field.setValue(&#39;name1&#39;,&#39;value set by name2&#39;);
              Break;
          }
        }
    });
    Render() {
        Const init = this.field.init;

        Return &lt;div&gt;
          &lt;Input {...init(&#39;name1&#39;)} /&gt;
          &lt;Input {...init(&#39;name2&#39;)} /&gt;
        &lt;/div&gt;
    }
}</pre><ol start="2">
<li>Individual management</li>
</ol>
<pre>Class Demo extends React.Component {
    Render() {
        Const init = this.field.init;

        Return &lt;div&gt;
          &lt;Input {...init(&#39;name1&#39;,{
              Props:{
                onChange:(v)=&gt;{
                  this.field.setValue(&#39;name2&#39;,&#39;value set by name1&#39;);
                }
              }
            })} /&gt;
          &lt;Input {...init(&#39;name2&#39;,{
              Props:{
                onChange:(v)=&gt;{
                  this.field.setValue(&#39;name1&#39;,&#39;value set by name2&#39;);
                }
              }
            })} /&gt;
        &lt;/div&gt;
    }
}</pre><p>For details, please check Demo Demo <code>Associate Control</code></p>
<h2 id="api">API<a href="#api" class="anchor">#</a></h2><h3 id="initialization">initialization<a href="#initialization" class="anchor">#</a></h3><pre>Let myfield = new Field(this [,options]);</pre><table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Type</th>
<th>Optional</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>this</td>
<td>The incoming call to this class</td>
<td>React.Component</td>
<td>must be set</td>
</tr>
<tr>
<td>options</td>
<td>Some event configuration, detailed parameters are as follows</td>
<td>Object</td>
<td>Not required</td>
</tr>
</tbody>
</table>
<p><code>options</code> configuration item</p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
<th>Type</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>onChange</td>
<td>all component changes will arrive here [setValue won&#39;t trigger the function]</td>
<td>Function(name,value)</td>
<td></td>
</tr>
<tr>
<td>parseName</td>
<td>Whether to translate <code>name</code> in <code>init(name)</code> (getValues ​​will convert a string with <code>.</code> to an object)</td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>forceUpdate</td>
<td>Only the components of PureComponent are recommended to open this forced refresh function, which will cause performance problems (500 components as an example: the render will cost 700ms when it is turned on, and 400ms if it is turned off)</td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>scrollToFirstError</td>
<td>scrolling field.validate scrolls to the first errored component, offsets if it is an integer</td>
<td>Boolean/Number</td>
<td>true</td>
</tr>
<tr>
<td>autoUnmount</td>
<td>Automatically delete the Unmout element, if you want to keep the data can be set to false</td>
<td>Boolean</td>
<td>true</td>
</tr>
<tr>
<td>values</td>
<td>initial value</td>
<td>Object</td>
</tr>
</tbody>
</table>
<h4 id="api-interface">API Interface<a href="#api-interface" class="anchor">#</a></h4><p>The api interface provided by the object after <code>new</code> (eg <code>myfield.getValues()</code>) (The api function starting with <code>set</code> should not be manipulated in render, which may trigger an infinite loop)</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Type</th>
<th>Optional</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>init</td>
<td>Initialize each component, [Detailed Parameters below] (#init))</td>
<td>Function(name:String, option:Object)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>getValues ​​</td>
<td>Get the value of a group of input controls. If no parameters are passed, get the values ​​of all components</td>
<td>Function([names: String[]])</td>
</tr>
<tr>
<td>getValue</td>
<td>get the value of a single input control</td>
<td>Function(name: String)</td>
</tr>
<tr>
<td>setValues ​​</td>
<td>Sets the value of a set of input controls (triggers render, follow the use of react time)</td>
<td>Function(obj: Object)</td>
</tr>
<tr>
<td>setValue</td>
<td>Sets the value of a single input control (triggers render, follow the use of react time)</td>
<td>Function(name: String, value)</td>
</tr>
<tr>
<td>Validate</td>
<td>Validate and retrieve the values ​​of a set of input fields and Error</td>
<td>Function([names: String[]], [options: Object], callback: Function(errors, values))</td>
<td></td>
<td></td>
</tr>
<tr>
<td>getError</td>
<td>Get Error of a Single Input Control</td>
<td>Function(name: String)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>getErrors</td>
<td>Get Errors of a Group of Input Controls</td>
<td>Function([name: String])</td>
<td></td>
<td></td>
</tr>
<tr>
<td>setError</td>
<td>Set Error for a Single Input Control</td>
<td>Function(name: String, errors:String/Array[String])</td>
<td></td>
<td></td>
</tr>
<tr>
<td>setErrors</td>
<td>Set Errors of a Group of Input Controls</td>
<td>Function(obj: Object)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>reset</td>
<td>reset the value of a group of input controls, clear the checksum</td>
<td>Function([names: String[]])</td>
<td></td>
<td></td>
</tr>
<tr>
<td>resetToDefault</td>
<td>Resets the value of a group of input controls to the default</td>
<td>Function([names: String[]])</td>
<td></td>
<td></td>
</tr>
<tr>
<td>getState</td>
<td>Judge check status</td>
<td>Function(name: String)</td>
<td>&#39;error&#39; &#39;success&#39; &#39;loading&#39; &#39;&#39;</td>
<td>&#39;&#39;</td>
</tr>
<tr>
<td>getNames</td>
<td>Get the key of all components</td>
<td>Function()</td>
<td></td>
<td></td>
</tr>
<tr>
<td>remove</td>
<td>Delete the data of a certain control or a group of controls. After deletion, the validate/value associated with it will be cleared.</td>
<td>Function(name: String/String[])</td>
</tr>
</tbody>
</table>
<h4 id="init">init<a href="#init" class="anchor">#</a></h4><pre>init(name, options, props)</pre><table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Type</th>
<th>Optional</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>Required unique input control symbol</td>
<td>String</td>
</tr>
<tr>
<td>options.valueName</td>
<td>attribute name of the component value, such as Checkbox is <code>checked</code>, Input is <code>value</code></td>
<td>String</td>
<td></td>
<td>&#39;value&#39;</td>
</tr>
<tr>
<td>options.initValue</td>
<td>The initial value of the component (the component will be read only when rendering for the first time, and later modifying this value is invalid), similar to defaultValue</td>
<td>any</td>
<td></td>
<td></td>
</tr>
<tr>
<td>options.trigger</td>
<td>Name of the event that triggered the data change</td>
<td>String</td>
<td></td>
<td>&#39;onChange&#39;</td>
</tr>
<tr>
<td>options.rules</td>
<td>Checksum Rules</td>
<td>Array/Object</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>options.getValueFromEvent</td>
<td>custom way to get value from <code>onChange</code> event, generally do not need to set. Detailed usage see demo <code>custom data get</code></td>
<td>Function(value, ...args) parameter order and components are exactly the same The</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>props</td>
<td>Component-defined events can be written here</td>
<td>Object</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>return</p>
<pre>{id,value,onChange}</pre><h4 id="rules">rules<a href="#rules" class="anchor">#</a></h4><pre>{
    rules:[{ required: true }]
}</pre><p>multiple rule</p>
<pre>{
    rules:[{required:true,trigger:&#39;onBlur&#39;},{pattern:/abcd/,message:&#39;match abcd&#39;},{validator:(rule, value, callback)=&gt;{callback(&#39;got error&#39;)}}]
}</pre><table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Type</th>
<th>Optional</th>
</tr>
</thead>
<tbody>
<tr>
<td>required</td>
<td>cannot be empty</td>
<td>Boolean</td>
<td>true</td>
<td><code>undefined/null/&quot;/[]</code> will trigger this rule)</td>
</tr>
<tr>
<td>pattern</td>
<td>check regular expression</td>
<td>regular</td>
<td></td>
<td></td>
</tr>
<tr>
<td>minLength</td>
<td>Minimum string length / Minimum number of arrays</td>
<td>Number</td>
<td></td>
<td>String/Number/Array</td>
</tr>
<tr>
<td>maxLength</td>
<td>Maximum length of string / Maximum number of arrays</td>
<td>Number</td>
<td></td>
<td>String/Number/Array</td>
</tr>
<tr>
<td>length</td>
<td>string exact length / exact number of arrays</td>
<td></td>
<td>number</td>
<td></td>
<td>String/Number/Array</td>
</tr>
<tr>
<td>min</td>
<td>Min</td>
<td>Number</td>
<td></td>
<td>String/Number</td>
</tr>
<tr>
<td>max</td>
<td>maximum</td>
<td>Number</td>
<td></td>
<td>String/Number</td>
</tr>
<tr>
<td>format</td>
<td>sum of common patterns</td>
<td>String</td>
<td>url, email, tel, number</td>
<td>String</td>
</tr>
<tr>
<td>validator</td>
<td>Custom validation, (don&#39;t forget to execute <code>callback()</code> when validation is successful, otherwise validation will not return)</td>
<td>Function(rule,value,callback)</td>
</tr>
<tr>
<td>trigger</td>
<td>Name of the event that triggered the check</td>
<td>String/Array</td>
<td>onChange/onBlur/...</td>
<td>onChange</td>
</tr>
<tr>
<td>message</td>
<td>error message</td>
<td>String</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="custom-component-access-to-field-standards-see-details-http-gitlab-alibaba-inc-com-next-1-x-issues-2">Custom Component Access to Field Standards [See details] (<a href="http://gitlab.alibaba-inc.com/next/1.x/issues/2" target="_blank">http://gitlab.alibaba-inc.com/next/1.x/issues/2</a>)<a href="#custom-component-access-to-field-standards-see-details-http-gitlab-alibaba-inc-com-next-1-x-issues-2" class="anchor">#</a></h2><ul>
<li><p>Supports controlled mode (value+onChange) <code>Must</code></p>
<ul>
<li>value control component data display</li>
<li>onChange callback function when the component changes (the first parameter can be given to value)</li>
</ul>
</li>
<li><p>One complete operation throws an onChange event
 For example, there is a process that indicates the status of the progress, it is recommended to increase the API <code>onProcess</code>; if there is a Start indicates the startup state, it is recommended to increase the API <code>onStart</code></p>
</li>
<li><p>Clear data when <code>value={undefined}</code>, field&#39;s reset function will send undefined data to all components</p>
</li>
</ul>
<pre>componentWillReceiveProps(nextProps) {
    if (&#39;value&#39; in nextProps ) {
        this.setState({
           value: nextProps.value === undefined? []: nextProps.value   //  set value after clear
        })
    }
}</pre><h2 id="known-issues">Known Issues<a href="#known-issues" class="anchor">#</a></h2><ul>
<li>Why doesn&#39;t the callback function enter the <code>this.field.validate</code> manually? A: Is it safe to define the validator method to ensure that the <code>callback</code> can be executed on any branch?</li>
</ul>
</div>
  

  <div class="demo-list" id="demo-list">
    
    <div class="demo-list-item" id="field-0">
      <div class="demo-list-item-header">
        <a href="#field-0" class="title">basic</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-field-0"></div>
          <script>var mountNode = document.getElementById('react-app-field-0');</script> <script>(function(){'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _next = require('@alife/next');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var App = function (_React$PureComponent) {
    _inherits(App, _React$PureComponent);

    function App() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, App);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = App.__proto__ || Object.getPrototypeOf(App)).call.apply(_ref, [this].concat(args))), _this), _this.field = new _next.Field(_this, { forceUpdate: true }), _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(App, [{
        key: 'onGetValue',
        value: function onGetValue() {
            console.log(this.field.getValue('input'));
        }
    }, {
        key: 'render',
        value: function render() {
            var _field = this.field,
                init = _field.init,
                setValue = _field.setValue,
                reset = _field.reset;


            return React.createElement(
                'div',
                { className: 'demo' },
                React.createElement(_next.Input, init('input', { initValue: 'test' })),
                React.createElement('br', null),
                React.createElement('br', null),
                React.createElement(
                    _next.Button,
                    { type: 'primary', onClick: this.onGetValue.bind(this) },
                    'getValue'
                ),
                React.createElement(
                    _next.Button,
                    { type: 'primary', onClick: function onClick() {
                            return setValue('input', 'set me by click');
                        } },
                    'setValue'
                ),
                React.createElement(
                    _next.Button,
                    { onClick: function onClick() {
                            return reset();
                        } },
                    'reset'
                )
            );
        }
    }]);

    return App;
}(React.PureComponent);

ReactDOM.render(React.createElement(App, null), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { Input, Button, Field } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">PureComponent</span> </span>{
    field = <span class="hljs-keyword">new</span> Field(<span class="hljs-keyword">this</span>, {<span class="hljs-attr">forceUpdate</span>: <span class="hljs-literal">true</span>});

    onGetValue() {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>.field.getValue(<span class="hljs-string">'input'</span>));
    }

    render() {
        <span class="hljs-keyword">const</span> { init, setValue, reset } = <span class="hljs-keyword">this</span>.field;

        <span class="hljs-keyword">return</span> (<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"demo"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Input</span>  {<span class="hljs-attr">...init</span>('<span class="hljs-attr">input</span>', {<span class="hljs-attr">initValue:</span> '<span class="hljs-attr">test</span>'})}  /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{this.onGetValue.bind(this)}</span>&gt;</span>getValue<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setValue('input', 'set me by click')}&gt;setValue<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> reset()}&gt;reset<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>);
    }
}

ReactDOM.render(<span class="hljs-tag">&lt;<span class="hljs-name">App</span>/&gt;</span>, mountNode);
</span></code></pre></div><style type="text/css">.demo .next-btn {
    margin-right: 5px;
}</style><div class="highlight"><pre><code class="css"><span class="hljs-selector-class">.demo</span> <span class="hljs-selector-class">.next-btn</span> {
    <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">5px</span>;
}</code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p>usage of <code>getValue</code> <code>setValue</code> <code>reset</code></p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
    <div class="demo-list-item" id="field-3">
      <div class="demo-list-item-header">
        <a href="#field-3" class="title">custom value getter</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-field-3"></div>
          <script>var mountNode = document.getElementById('react-app-field-3');</script> <script>(function(){'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _next = require('@alife/next');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var App = function (_React$Component) {
    _inherits(App, _React$Component);

    function App() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, App);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = App.__proto__ || Object.getPrototypeOf(App)).call.apply(_ref, [this].concat(args))), _this), _this.field = new _next.Field(_this), _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(App, [{
        key: 'normFile',
        value: function normFile(list) {
            if (Array.isArray(list)) {
                return list;
            }
            return list && list.fileList;
        }
    }, {
        key: 'normDate',
        value: function normDate(date, strdate) {
            console.log('normDate:', date, strdate);
            return strdate;
        }
    }, {
        key: 'render',
        value: function render() {
            var _this2 = this;

            var init = this.field.init;

            return React.createElement(
                'div',
                null,
                React.createElement(_next.Input, init('name', { getValueFromEvent: function getValueFromEvent(value) {
                        if (value.match(/##/)) {
                            return value;
                        } else {
                            return '## title-' + value;
                        }
                    } })),
                React.createElement(
                    _next.Button,
                    { type: 'primary', onClick: function onClick() {
                            console.log(_this2.field.getValues());
                        } },
                    'getValues'
                )
            );
        }
    }]);

    return App;
}(React.Component);

ReactDOM.render(React.createElement(App, null), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { Button, Input, Field } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{

    field = <span class="hljs-keyword">new</span> Field(<span class="hljs-keyword">this</span>);

    normFile(list) {
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Array</span>.isArray(list)) {
            <span class="hljs-keyword">return</span> list;
        }
        <span class="hljs-keyword">return</span> list &amp;&amp; list.fileList;
    }

    normDate(date, strdate) {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'normDate:'</span>, date, strdate);
        <span class="hljs-keyword">return</span> strdate;
    }

    render() {
        <span class="hljs-keyword">const</span> init = <span class="hljs-keyword">this</span>.field.init;

        <span class="hljs-keyword">return</span> (<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Input</span> {<span class="hljs-attr">...init</span>('<span class="hljs-attr">name</span>', { <span class="hljs-attr">getValueFromEvent:</span> (<span class="hljs-attr">value</span>) =&gt;</span> {
                if (value.match(/##/)) {
                    return value;
                } else {
                    return `## title-${value}`;
                }
            }})} /&gt;
            <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> {
                console.log(this.field.getValues());
            }}&gt;getValues<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>);
    }
}

ReactDOM.render(<span class="hljs-tag">&lt;<span class="hljs-name">App</span>/&gt;</span>, mountNode);</span></code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p>custom <code>value</code> by api <code>getValueFromEvent</code></p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
    <div class="demo-list-item" id="field-4">
      <div class="demo-list-item-header">
        <a href="#field-4" class="title">controlled</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-field-4"></div>
          <script>var mountNode = document.getElementById('react-app-field-4');</script> <script>(function(){'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _next = require('@alife/next');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var App = function (_React$Component) {
    _inherits(App, _React$Component);

    function App() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, App);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = App.__proto__ || Object.getPrototypeOf(App)).call.apply(_ref, [this].concat(args))), _this), _this.field = new _next.Field(_this, {
            onChange: function onChange(name, value) {
                console.log(_this.field.getValues());

                switch (name) {
                    case 'input':
                        _this.field.setValue('sync', 'change to: ' + value);
                        break;
                    case 'select':
                        _this.field.setValue('sync', value + ' is coming');
                        break;
                    case 'range':
                        _this.field.setValue('sync', ' (' + value.join(',') + ') ready');
                        break;
                }
            }
        }), _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(App, [{
        key: 'render',
        value: function render() {
            var _field = this.field,
                init = _field.init,
                getValue = _field.getValue;

            var layout = {
                marginBottom: 10,
                width: 400
            };

            return React.createElement(
                'div',
                null,
                React.createElement(_next.Input, _extends({ placeholder: 'controled by onChange' }, init('input'), { style: layout })),
                React.createElement('br', null),
                React.createElement(_next.Input, _extends({ placeholder: 'under control' }, init('input'), { style: layout })),
                React.createElement('br', null),
                React.createElement(
                    _next.Select,
                    _extends({ style: layout }, init('select', { initValue: 'lucy' })),
                    React.createElement(
                        _next.Select.Option,
                        { value: 'jack' },
                        'jack'
                    ),
                    React.createElement(
                        _next.Select.Option,
                        { value: 'lucy' },
                        'lucy'
                    ),
                    React.createElement(
                        _next.Select.Option,
                        { value: 'disabled', disabled: true },
                        'disabled'
                    ),
                    React.createElement(
                        _next.Select.Option,
                        { value: 'hugo' },
                        'hugo'
                    )
                ),
                React.createElement('br', null),
                getValue('select') !== 'hugo' ? React.createElement(_next.Range, _extends({
                    style: _extends({}, layout, { marginTop: 30 }),
                    slider: 'double', scales: 10, marks: 10
                }, init('range', { initValue: [20, 40], trigger: 'onProcess' }))) : null,
                React.createElement('br', null),
                React.createElement('hr', { style: { marginBottom: 10 } }),
                React.createElement(_next.Input, _extends({ placeholder: 'everyone can control me' }, init('sync'), { style: layout })),
                React.createElement('br', null)
            );
        }
    }]);

    return App;
}(React.Component);

ReactDOM.render(React.createElement(App, null), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { Input, Select, Range, Field } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
    field = <span class="hljs-keyword">new</span> Field(<span class="hljs-keyword">this</span>, {
        <span class="hljs-attr">onChange</span>: <span class="hljs-function">(<span class="hljs-params">name, value</span>) =&gt;</span> {
            <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>.field.getValues());

            <span class="hljs-keyword">switch</span> (name) {
                <span class="hljs-keyword">case</span> <span class="hljs-string">'input'</span>:
                    <span class="hljs-keyword">this</span>.field.setValue(<span class="hljs-string">'sync'</span>, <span class="hljs-string">`change to: <span class="hljs-subst">${value}</span>`</span>);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">'select'</span>:
                    <span class="hljs-keyword">this</span>.field.setValue(<span class="hljs-string">'sync'</span>, <span class="hljs-string">`<span class="hljs-subst">${value}</span> is coming`</span>);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">'range'</span>:
                    <span class="hljs-keyword">this</span>.field.setValue(<span class="hljs-string">'sync'</span>, <span class="hljs-string">` (<span class="hljs-subst">${value.join(<span class="hljs-string">','</span>)}</span>) ready`</span>);
                    <span class="hljs-keyword">break</span>;
            }
        }
    });

    render() {
        <span class="hljs-keyword">const</span> {init, getValue} = <span class="hljs-keyword">this</span>.field;
        <span class="hljs-keyword">const</span> layout = {
            <span class="hljs-attr">marginBottom</span>: <span class="hljs-number">10</span>,
            <span class="hljs-attr">width</span>: <span class="hljs-number">400</span>
        };

        <span class="hljs-keyword">return</span> (&lt;div&gt;
            &lt;Input placeholder="controled by onChange" {...init('input')} style={layout}/&gt;&lt;br/&gt;
            &lt;Input placeholder="under control" {...init('input')} style={layout}/&gt;&lt;br/&gt;

            &lt;Select style={layout} {...init('select', {initValue: 'lucy'})}&gt;
                &lt;Select.Option value="jack"&gt;jack&lt;/Select.Option&gt;
                &lt;Select.Option value="lucy"&gt;lucy&lt;/Select.Option&gt;
                &lt;Select.Option value="disabled" disabled&gt;disabled&lt;/Select.Option&gt;
                &lt;Select.Option value="hugo"&gt;hugo&lt;/Select.Option&gt;
            &lt;/Select&gt;&lt;br/&gt;

            {
                getValue('select') !== 'hugo' ?
                &lt;Range
                    style={{...layout, marginTop: 30}}
                    slider={'double'} scales={10} marks={10}
                    {...init('range', {initValue: [20, 40], trigger: 'onProcess'})}
                /&gt; : null
            }
            &lt;br/&gt;

            &lt;hr style={{marginBottom: 10}}/&gt;
            &lt;Input placeholder="everyone can control me" {...init('sync')} style={layout}/&gt;&lt;br/&gt;
        &lt;/div&gt;);
    }
}

ReactDOM.render(&lt;App/&gt;, mountNode);</code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p>manage value by <code>onChange</code></p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
    <div class="demo-list-item" id="field-6">
      <div class="demo-list-item-header">
        <a href="#field-6" class="title">custom errors</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-field-6"></div>
          <script>var mountNode = document.getElementById('react-app-field-6');</script> <script>(function(){'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _next = require('@alife/next');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var App = function (_React$Component) {
    _inherits(App, _React$Component);

    function App() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, App);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = App.__proto__ || Object.getPrototypeOf(App)).call.apply(_ref, [this].concat(args))), _this), _this.field = new _next.Field(_this), _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(App, [{
        key: 'render',
        value: function render() {
            var _field = this.field,
                init = _field.init,
                getError = _field.getError,
                setError = _field.setError,
                setErrors = _field.setErrors;

            return React.createElement(
                'div',
                { className: 'demo' },
                React.createElement(_next.Input, init('input', {
                    rules: [{
                        required: true,
                        pattern: /hello/,
                        message: 'must be hello'
                    }]
                })),
                React.createElement('br', null),
                React.createElement(
                    'span',
                    { style: { color: 'red' } },
                    getError('input')
                ),
                React.createElement('br', null),
                React.createElement(
                    _next.Button,
                    { onClick: function onClick() {
                            setError('input', 'set error 1');
                        } },
                    'setError'
                ),
                React.createElement(
                    _next.Button,
                    { onClick: function onClick() {
                            setErrors({ input: 'set error 2' });
                        } },
                    'setErrors'
                ),
                React.createElement(
                    _next.Button,
                    { onClick: function onClick() {
                            setErrors({ input: '' });
                        } },
                    'clear'
                ),
                React.createElement('br', null),
                React.createElement('br', null),
                React.createElement(_next.Input, init('input2')),
                React.createElement('br', null),
                React.createElement(
                    'span',
                    { style: { color: 'red' } },
                    getError('input2')
                ),
                React.createElement('br', null),
                React.createElement(
                    _next.Button,
                    { onClick: function onClick() {
                            setError('input2', 'errors will be removed by onChange');
                        } },
                    'setError'
                )
            );
        }
    }]);

    return App;
}(React.Component);

ReactDOM.render(React.createElement(App, null), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { Input, Button, Field } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
    field = <span class="hljs-keyword">new</span> Field(<span class="hljs-keyword">this</span>);

    render() {
        <span class="hljs-keyword">const</span> { init, getError, setError, setErrors } = <span class="hljs-keyword">this</span>.field;
        <span class="hljs-keyword">return</span> (&lt;div className="demo"&gt;
            &lt;Input  {...init('input', {
                rules: [{
                    required: true,
                    pattern: /hello/,
                    message: 'must be hello'
                }]
            })}  /&gt;&lt;br/&gt;
            &lt;span style={{color: 'red'}}&gt;{getError('input')}&lt;/span&gt;

            &lt;br/&gt;
            &lt;Button onClick={() =&gt; {
                setError('input', 'set error 1');
            }}&gt;setError&lt;/Button&gt;

            &lt;Button onClick={() =&gt; {
                setErrors({input: 'set error 2'});
            }}&gt;setErrors&lt;/Button&gt;

            &lt;Button onClick={() =&gt; {
                setErrors({input: ''});
            }}&gt;clear&lt;/Button&gt;

            &lt;br/&gt;&lt;br/&gt;
            &lt;Input  {...init('input2')}  /&gt;&lt;br/&gt;
            &lt;span style={{color: 'red'}}&gt;{getError('input2')}&lt;/span&gt;&lt;br/&gt;

            &lt;Button onClick={() =&gt; {
                setError('input2', 'errors will be removed by onChange');
            }}&gt;setError&lt;/Button&gt;
        &lt;/div&gt;);
    }
}

ReactDOM.render(&lt;App/&gt;, mountNode);
</code></pre></div><style type="text/css">.demo .next-btn {
    margin-right: 5px;
}</style><div class="highlight"><pre><code class="css"><span class="hljs-selector-class">.demo</span> <span class="hljs-selector-class">.next-btn</span> {
    <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">5px</span>;
}</code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p>set errors of component by yourself</p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
    <div class="demo-list-item" id="field-8">
      <div class="demo-list-item-header">
        <a href="#field-8" class="title">validate</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-field-8"></div>
          <script>var mountNode = document.getElementById('react-app-field-8');</script> <script>(function(){'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _next = require('@alife/next');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var CheckboxGroup = _next.Checkbox.Group;

var list = [{
    value: 'apple',
    label: 'apple'
}, {
    value: 'pear',
    label: 'pear'
}, {
    value: 'orange',
    label: 'orange'
}];

var App = function (_React$Component) {
    _inherits(App, _React$Component);

    function App() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, App);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = App.__proto__ || Object.getPrototypeOf(App)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
            checkboxStatus: true
        }, _this.field = new _next.Field(_this, { scrollToFirstError: -10 }), _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(App, [{
        key: 'isChecked',
        value: function isChecked(rule, value, callback) {
            if (!value) {
                callback('consent agreement not checked ');
            } else {
                callback();
            }
        }
    }, {
        key: 'userName',
        value: function userName(rule, value, callback) {
            if (value === 'frank') {
                setTimeout(function () {
                    return callback('name existed');
                }, 200);
            } else {
                setTimeout(function () {
                    return callback();
                }, 200);
            }
        }
    }, {
        key: 'render',
        value: function render() {
            var _this2 = this;

            var init = this.field.init;

            return React.createElement(
                'div',
                { className: 'demo' },
                React.createElement(_next.Input, init('input', { initValue: 'delete all', rules: { required: true } })),
                this.field.getError('input') ? React.createElement(
                    'span',
                    { style: { color: 'red' } },
                    this.field.getError('input').join(',')
                ) : '',
                React.createElement('br', null),
                React.createElement('br', null),
                React.createElement(_next.Input, _extends({ placeholder: 'try onBlur' }, init('input1', {
                    rules: [{
                        required: true,
                        message: 'can not be empty',
                        trigger: ['onBlur', 'onChange']
                    }]
                }))),
                this.field.getError('input1') ? React.createElement(
                    'span',
                    { style: { color: 'red' } },
                    this.field.getError('input1').join(',')
                ) : '',
                React.createElement('br', null),
                React.createElement('br', null),
                React.createElement(_next.Input, _extends({ defaultValue: '', placeholder: 'try frank' }, init('username', {
                    rules: [{
                        validator: this.userName,
                        trigger: ['onBlur', 'onChange']
                    }]
                }))),
                this.field.getState('username') === 'loading' ? 'validating...' : '',
                this.field.getError('username') ? React.createElement(
                    'span',
                    { style: { color: 'red' } },
                    this.field.getError('username').join(',')
                ) : '',
                React.createElement('br', null),
                React.createElement('br', null),
                'agreement:',
                React.createElement(_next.Checkbox, init('checkbox', {
                    valueName: 'checked',
                    rules: [{ validator: this.isChecked }]
                })),
                this.field.getError('checkbox') ? React.createElement(
                    'span',
                    { style: { color: 'red' } },
                    this.field.getError('checkbox').join(',')
                ) : '',
                React.createElement('br', null),
                React.createElement('br', null),
                React.createElement(_next.Input, _extends({ multiple: true, maxLength: 10, defaultValue: '>3 and <10' }, init('textarea', {
                    rules: [{
                        required: true,
                        min: 3,
                        max: 10
                    }]
                }))),
                this.field.getError('textarea') ? React.createElement(
                    'span',
                    { style: { color: 'red' } },
                    this.field.getError('textarea').join(',')
                ) : '',
                React.createElement('br', null),
                React.createElement('br', null),
                this.state.checkboxStatus ? React.createElement(
                    'div',
                    null,
                    'Array validate\uFF1A',
                    React.createElement(CheckboxGroup, _extends({ dataSource: list }, init('checkboxgroup', {
                        rules: [{
                            required: true,
                            type: 'array',
                            message: 'choose one please'
                        }]
                    }), { style: { marginBottom: 10 } })),
                    this.field.getError('checkboxgroup') ? React.createElement(
                        'span',
                        { style: { color: 'red' } },
                        this.field.getError('checkboxgroup').join(',')
                    ) : ''
                ) : null,
                React.createElement('br', null),
                React.createElement('br', null),
                React.createElement(
                    _next.Button,
                    { type: 'primary', onClick: function onClick() {
                            _this2.field.validate(function (errors, values) {
                                console.log(errors, values);
                            });
                        } },
                    'validate'
                ),
                React.createElement(
                    _next.Button,
                    { onClick: function onClick() {
                            _this2.field.reset();
                        } },
                    'reset'
                ),
                React.createElement(
                    _next.Button,
                    { onClick: function onClick() {
                            if (_this2.state.checkboxStatus) {
                                _this2.setState({ checkboxStatus: false });
                                _this2.field.remove('checkboxgroup');
                            } else {
                                _this2.setState({ checkboxStatus: true });
                            }
                        } },
                    this.state.checkboxStatus ? 'delete' : 'restore'
                )
            );
        }
    }]);

    return App;
}(React.Component);

ReactDOM.render(React.createElement(App, null), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { Input, Button, Checkbox, Field } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

<span class="hljs-keyword">const</span> CheckboxGroup = Checkbox.Group;

<span class="hljs-keyword">const</span> list = [
    {
        <span class="hljs-attr">value</span>: <span class="hljs-string">'apple'</span>,
        <span class="hljs-attr">label</span>: <span class="hljs-string">'apple'</span>
    }, {
        <span class="hljs-attr">value</span>: <span class="hljs-string">'pear'</span>,
        <span class="hljs-attr">label</span>: <span class="hljs-string">'pear'</span>
    }, {
        <span class="hljs-attr">value</span>: <span class="hljs-string">'orange'</span>,
        <span class="hljs-attr">label</span>: <span class="hljs-string">'orange'</span>
    }
];

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
    state = {
        <span class="hljs-attr">checkboxStatus</span>: <span class="hljs-literal">true</span>
    }
    field = <span class="hljs-keyword">new</span> Field(<span class="hljs-keyword">this</span>, {<span class="hljs-attr">scrollToFirstError</span>: <span class="hljs-number">-10</span>});

    isChecked(rule, value, callback) {
        <span class="hljs-keyword">if</span> (!value) {
            callback(<span class="hljs-string">'consent agreement not checked '</span>);
        } <span class="hljs-keyword">else</span> {
            callback();
        }
    }

    userName(rule, value, callback) {
        <span class="hljs-keyword">if</span> (value === <span class="hljs-string">'frank'</span>) {
            setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> callback(<span class="hljs-string">'name existed'</span>), <span class="hljs-number">200</span>);
        } <span class="hljs-keyword">else</span> {
            setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> callback(), <span class="hljs-number">200</span>);
        }
    }

    render() {
        <span class="hljs-keyword">const</span> init = <span class="hljs-keyword">this</span>.field.init;

        <span class="hljs-keyword">return</span> (&lt;div className="demo"&gt;
            &lt;Input {...init('input', {initValue: 'delete all', rules: {required: true}})} /&gt;
            {this.field.getError('input') ?
                &lt;span style={{color: 'red'}}&gt;{this.field.getError('input').join(',')}&lt;/span&gt; : ''}

            &lt;br/&gt;
            &lt;br/&gt;

            &lt;Input placeholder="try onBlur" {...init('input1', {
                rules: [{
                    required: true,
                    message: 'can not be empty',
                    trigger: ['onBlur', 'onChange']
                }]
            })} /&gt;
            {this.field.getError('input1') ?
                &lt;span style={{color: 'red'}}&gt;{this.field.getError('input1').join(',')}&lt;/span&gt; : ''}

            &lt;br/&gt;
            &lt;br/&gt;

            &lt;Input defaultValue="" placeholder="try frank" {...init('username', {
                rules: [{
                    validator: this.userName,
                    trigger: ['onBlur', 'onChange']
                }]
            })} /&gt;
            {this.field.getState('username') === 'loading' ? 'validating...' : ''}
            {this.field.getError('username') ?
                &lt;span style={{color: 'red'}}&gt;{this.field.getError('username').join(',')}&lt;/span&gt; : ''}

            &lt;br/&gt;
            &lt;br/&gt;

            agreement:
            &lt;Checkbox  {...init('checkbox', {
                valueName: 'checked',
                rules: [{validator: this.isChecked}]
            })} /&gt;
            {this.field.getError('checkbox') ?
                &lt;span style={{color: 'red'}}&gt;{this.field.getError('checkbox').join(',')}&lt;/span&gt; : ''}

            &lt;br/&gt;
            &lt;br/&gt;

            &lt;Input multiple maxLength={10} defaultValue="&gt;3 and &lt;10" {...init('textarea', {
                rules: [{
                    required: true,
                    min: 3,
                    max: 10
                }]
            })} /&gt;
            {this.field.getError('textarea') ?
                &lt;span style={{color: 'red'}}&gt;{this.field.getError('textarea').join(',')}&lt;/span&gt; : ''}

            &lt;br/&gt;
            &lt;br/&gt;

            {this.state.checkboxStatus ? &lt;div&gt;
                Array validate：
                &lt;CheckboxGroup dataSource={list}  {...init('checkboxgroup', {
                    rules: [{
                        required: true,
                        type: 'array',
                        message: 'choose one please'
                    }]
                })} style={{marginBottom: 10}}/&gt;
                {this.field.getError('checkboxgroup') ?
                    &lt;span style={{color: 'red'}}&gt;{this.field.getError('checkboxgroup').join(',')}&lt;/span&gt; : ''}
            &lt;/div&gt; : null}

            &lt;br/&gt;
            &lt;br/&gt;

            &lt;Button type="primary" onClick={() =&gt; {
                this.field.validate((errors, values) =&gt; {
                    console.log(errors, values);
                });
            }}&gt;validate&lt;/Button&gt;
            &lt;Button onClick={() =&gt; {
                this.field.reset();
            }}&gt;reset&lt;/Button&gt;

            &lt;Button onClick={() =&gt; {
                if (this.state.checkboxStatus) {
                    this.setState({checkboxStatus: false});
                    this.field.remove('checkboxgroup');
                } else {
                    this.setState({checkboxStatus: true});
                }

            }}&gt;{this.state.checkboxStatus ? 'delete' : 'restore'}&lt;/Button&gt;
        &lt;/div&gt;);
    }
}

ReactDOM.render(&lt;App/&gt;, mountNode);</code></pre></div><style type="text/css">.demo .next-btn {
    margin-right: 5px;
}</style><div class="highlight"><pre><code class="css"><span class="hljs-selector-class">.demo</span> <span class="hljs-selector-class">.next-btn</span> {
    <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">5px</span>;
}</code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p>you can easily use validate in <code>Form</code>, or you can use <code>getError</code> to set errors where you want to put</p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
    <div class="demo-list-item" id="field-5">
      <div class="demo-list-item-header">
        <a href="#field-5" class="title">redux</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-field-5"></div>
          <script>var mountNode = document.getElementById('react-app-field-5');</script> <script>(function(){'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _next = require('@alife/next');

var _redux = require('redux');

var _reactRedux = require('react-redux');

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function formReducer() {
    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { email: 'frankqian@qq.com' };
    var action = arguments[1];

    switch (action.type) {
        case 'save_fields':
            return _extends({}, state, action.payload);
        default:
            return state;
    }
}

var Demo = function (_React$Component) {
    _inherits(Demo, _React$Component);

    function Demo() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, Demo);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Demo.__proto__ || Object.getPrototypeOf(Demo)).call.apply(_ref, [this].concat(args))), _this), _this.field = new _next.Field(_this, {
            onChange: function onChange(name, value) {
                console.log('onChange', name, value);
                _this.field.setValue('newlen', value.length);
                _this.props.dispatch({
                    type: 'save_fields',
                    payload: _defineProperty({}, name, value)
                });
            }
        }), _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(Demo, [{
        key: 'componentWillReceiveProps',
        value: function componentWillReceiveProps(nextProps) {
            this.field.setValues({
                email: nextProps.email,
                newlen: nextProps.email.length
            });
        }
    }, {
        key: 'setEmail',
        value: function setEmail() {
            this.props.dispatch({
                type: 'save_fields',
                payload: {
                    email: 'qq@gmail.com'
                }
            });
        }
    }, {
        key: 'render',
        value: function render() {
            var init = this.field.init;

            var newLen = init('newlen', { initValue: this.props.email.length });

            return React.createElement(
                'div',
                null,
                React.createElement(_next.Input, init('email', { initValue: this.props.email }, {
                    rules: [{ required: true, type: 'email', message: 'at least 5 chars' }]
                })),
                'now length is:',
                newLen.value,
                React.createElement(
                    'p',
                    null,
                    'email: ',
                    this.props.email
                ),
                React.createElement(
                    _next.Button,
                    { onClick: this.setEmail.bind(this) },
                    'set'
                )
            );
        }
    }]);

    return Demo;
}(React.Component);

var ReduxDemo = (0, _reactRedux.connect)(function (state) {
    return {
        email: state.formReducer.email
    };
})(Demo);

var store = (0, _redux.createStore)((0, _redux.combineReducers)({
    formReducer: formReducer
}));

ReactDOM.render(React.createElement(
    _reactRedux.Provider,
    { store: store },
    React.createElement(
        'div',
        null,
        React.createElement(ReduxDemo, null)
    )
), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { Input, Button, Field } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

<span class="hljs-keyword">import</span> { combineReducers, createStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'redux'</span>;
<span class="hljs-keyword">import</span> { Provider, connect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-redux'</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">formReducer</span>(<span class="hljs-params">state = {email: <span class="hljs-string">'frankqian@qq.com'</span>}, action</span>) </span>{
    <span class="hljs-keyword">switch</span> (action.type) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'save_fields'</span>:
            <span class="hljs-keyword">return</span> {
                ...state,
                ...action.payload
            };
        <span class="hljs-keyword">default</span>:
            <span class="hljs-keyword">return</span> state;
    }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Demo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
    componentWillReceiveProps(nextProps) {
        <span class="hljs-keyword">this</span>.field.setValues({
            <span class="hljs-attr">email</span>: nextProps.email,
            <span class="hljs-attr">newlen</span>: nextProps.email.length
        });
    }

    field = <span class="hljs-keyword">new</span> Field(<span class="hljs-keyword">this</span>, {
        <span class="hljs-attr">onChange</span>: <span class="hljs-function">(<span class="hljs-params">name, value</span>) =&gt;</span> {
            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'onChange'</span>, name, value);
            <span class="hljs-keyword">this</span>.field.setValue(<span class="hljs-string">'newlen'</span>, value.length);
            <span class="hljs-keyword">this</span>.props.dispatch({
                <span class="hljs-attr">type</span>: <span class="hljs-string">'save_fields'</span>,
                <span class="hljs-attr">payload</span>: {
                    [name]: value
                }
            });
        }
    });

    setEmail() {
        <span class="hljs-keyword">this</span>.props.dispatch({
            <span class="hljs-attr">type</span>: <span class="hljs-string">'save_fields'</span>,
            <span class="hljs-attr">payload</span>: {
                <span class="hljs-attr">email</span>: <span class="hljs-string">'qq@gmail.com'</span>
            },
        });
    }

    render() {
        <span class="hljs-keyword">const</span> init = <span class="hljs-keyword">this</span>.field.init;

        <span class="hljs-keyword">const</span> newLen = init(<span class="hljs-string">'newlen'</span>, { <span class="hljs-attr">initValue</span>: <span class="hljs-keyword">this</span>.props.email.length });

        <span class="hljs-keyword">return</span> (<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Input</span> {<span class="hljs-attr">...init</span>('<span class="hljs-attr">email</span>', { <span class="hljs-attr">initValue:</span> <span class="hljs-attr">this.props.email</span> }, {
                <span class="hljs-attr">rules:</span> [
                    {<span class="hljs-attr">required:</span> <span class="hljs-attr">true</span>, <span class="hljs-attr">type:</span> '<span class="hljs-attr">email</span>', <span class="hljs-attr">message:</span> '<span class="hljs-attr">at</span> <span class="hljs-attr">least</span> <span class="hljs-attr">5</span> <span class="hljs-attr">chars</span>'},
                ]
            })} /&gt;</span>
            now length is:{newLen.value}
            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>email: {this.props.email}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{this.setEmail.bind(this)}</span>&gt;</span>set<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>);
    }
}

const ReduxDemo = connect((state) =&gt; {
    return {
        email: state.formReducer.email,
    };
})(Demo);

const store = createStore(combineReducers({
    formReducer,
}));

ReactDOM.render((<span class="hljs-tag">&lt;<span class="hljs-name">Provider</span> <span class="hljs-attr">store</span>=<span class="hljs-string">{store}</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ReduxDemo</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Provider</span>&gt;</span>), mountNode);</span></code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p>set value in <code>componentWillReceiveProps</code></p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
    <div class="demo-list-item" id="field-2">
      <div class="demo-list-item-header">
        <a href="#field-2" class="title">mix usage</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-field-2"></div>
          <script>var mountNode = document.getElementById('react-app-field-2');</script> <script>(function(){'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _next = require('@alife/next');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var CheckboxGroup = _next.Checkbox.Group;
var RadioGroup = _next.Radio.Group;


var list = [{
    value: 'apple',
    label: 'apple'
}, {
    value: 'pear',
    label: 'pear'
}, {
    value: 'orange',
    label: 'orange'
}];
var layout = {
    marginBottom: 10,
    width: 400
};

var App = function (_React$Component) {
    _inherits(App, _React$Component);

    function App() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, App);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = App.__proto__ || Object.getPrototypeOf(App)).call.apply(_ref, [this].concat(args))), _this), _this.field = new _next.Field(_this, {
            deepReset: true
        }), _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(App, [{
        key: 'render',
        value: function render() {
            var _this2 = this;

            var init = this.field.init;

            return React.createElement(
                'div',
                { className: 'demo' },
                React.createElement(
                    _next.Select,
                    _extends({}, init('select', { initValue: 'lucy' }), { style: layout }),
                    React.createElement(
                        _next.Select.Option,
                        { value: 'jack' },
                        'jack'
                    ),
                    React.createElement(
                        _next.Select.Option,
                        { value: 'lucy' },
                        'lucy'
                    ),
                    React.createElement(
                        _next.Select.Option,
                        { value: 'disabled', disabled: true },
                        'disabled'
                    ),
                    React.createElement(
                        _next.Select.Option,
                        { value: 'hugohua' },
                        'hugohua'
                    )
                ),
                React.createElement('br', null),
                React.createElement(_next.Range, _extends({ style: _extends({}, layout, { marginTop: 30 }), slider: 'double', scales: 10,
                    marks: 10 }, init('range', { initValue: [20, 40] }))),
                React.createElement(
                    'div',
                    { style: { marginBottom: 10 } },
                    React.createElement(CheckboxGroup, _extends({ dataSource: list }, init('checkboxgroup', { initValue: ['apple'] })))
                ),
                React.createElement(
                    'div',
                    { style: { marginBottom: 10 } },
                    React.createElement(
                        RadioGroup,
                        init('radiogroup', { initValue: 'b' }),
                        React.createElement(
                            _next.Radio,
                            { value: 'a' },
                            'A'
                        ),
                        React.createElement(
                            _next.Radio,
                            { value: 'b' },
                            'B'
                        ),
                        React.createElement(
                            _next.Radio,
                            { value: 'c' },
                            'C'
                        ),
                        React.createElement(
                            _next.Radio,
                            { value: 'd' },
                            'D'
                        )
                    )
                ),
                React.createElement(
                    'div',
                    { style: { marginBottom: 10 } },
                    React.createElement(_next.DatePicker, null)
                ),
                React.createElement(
                    'div',
                    { style: { marginBottom: 10 } },
                    React.createElement(_next.DatePicker.RangePicker, null)
                ),
                React.createElement(
                    'div',
                    { style: { marginBottom: 10 } },
                    React.createElement(_next.TimePicker, null)
                ),
                React.createElement(
                    _next.Button,
                    { type: 'primary', onClick: function onClick() {
                            console.log(_this2.field.getValues());
                        } },
                    'getValues'
                ),
                React.createElement(
                    _next.Button,
                    { onClick: function onClick() {
                            _this2.field.setValues({
                                select: 'hugohua',
                                range: [30, 50],
                                checkboxgroup: ['orange'],
                                radiogroup: 'd'
                            });
                        } },
                    'setValues'
                ),
                React.createElement(
                    _next.Button,
                    { onClick: function onClick() {
                            _this2.field.reset();
                        } },
                    'reset'
                )
            );
        }
    }]);

    return App;
}(React.Component);

ReactDOM.render(React.createElement(App, null), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { Button, Checkbox, Radio, Select, Range, DatePicker, TimePicker, Field } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;
<span class="hljs-keyword">const</span> { <span class="hljs-attr">Group</span>: CheckboxGroup } = Checkbox;
<span class="hljs-keyword">const</span> { <span class="hljs-attr">Group</span>: RadioGroup } = Radio;

<span class="hljs-keyword">const</span> list = [
    {
        <span class="hljs-attr">value</span>: <span class="hljs-string">'apple'</span>,
        <span class="hljs-attr">label</span>: <span class="hljs-string">'apple'</span>
    }, {
        <span class="hljs-attr">value</span>: <span class="hljs-string">'pear'</span>,
        <span class="hljs-attr">label</span>: <span class="hljs-string">'pear'</span>
    }, {
        <span class="hljs-attr">value</span>: <span class="hljs-string">'orange'</span>,
        <span class="hljs-attr">label</span>: <span class="hljs-string">'orange'</span>
    }
];
<span class="hljs-keyword">const</span> layout = {
    <span class="hljs-attr">marginBottom</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">width</span>: <span class="hljs-number">400</span>
};

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
    field = <span class="hljs-keyword">new</span> Field(<span class="hljs-keyword">this</span>, {
        <span class="hljs-attr">deepReset</span>: <span class="hljs-literal">true</span>
    });

    render() {
        <span class="hljs-keyword">const</span> init = <span class="hljs-keyword">this</span>.field.init;

        <span class="hljs-keyword">return</span> (&lt;div className="demo"&gt;
            &lt;Select {...init('select', {initValue: 'lucy'})} style={layout}&gt;
                &lt;Select.Option value="jack"&gt;jack&lt;/Select.Option&gt;
                &lt;Select.Option value="lucy"&gt;lucy&lt;/Select.Option&gt;
                &lt;Select.Option value="disabled" disabled&gt;disabled&lt;/Select.Option&gt;
                &lt;Select.Option value="hugohua"&gt;hugohua&lt;/Select.Option&gt;
            &lt;/Select&gt;&lt;br/&gt;

            &lt;Range style={{...layout, marginTop: 30}} slider={'double'} scales={10}
                   marks={10}  {...init('range', {initValue: [20, 40]})}/&gt;

            &lt;div style={{marginBottom: 10}}&gt;
                &lt;CheckboxGroup dataSource={list}  {...init('checkboxgroup', {initValue: ['apple']})} /&gt;
            &lt;/div&gt;

            &lt;div style={{marginBottom: 10}}&gt;
                &lt;RadioGroup {...init('radiogroup', {initValue: 'b'})} &gt;
                    &lt;Radio value="a"&gt;A&lt;/Radio&gt;
                    &lt;Radio value="b"&gt;B&lt;/Radio&gt;
                    &lt;Radio value="c"&gt;C&lt;/Radio&gt;
                    &lt;Radio value="d"&gt;D&lt;/Radio&gt;
                &lt;/RadioGroup&gt;
            &lt;/div&gt;
            &lt;div style={{marginBottom: 10}}&gt;
                &lt;DatePicker /&gt;
            &lt;/div&gt;
            &lt;div style={{marginBottom: 10}}&gt;
                &lt;DatePicker.RangePicker /&gt;
            &lt;/div&gt;
            &lt;div style={{marginBottom: 10}}&gt;
                &lt;TimePicker /&gt;
            &lt;/div&gt;
            &lt;Button type="primary" onClick={() =&gt; {
                console.log(this.field.getValues());
            }}&gt;getValues&lt;/Button&gt;
            &lt;Button onClick={() =&gt; {
                this.field.setValues({
                    select: 'hugohua',
                    range: [30, 50],
                    checkboxgroup: ['orange'],
                    radiogroup: 'd'
                });
            }}&gt;setValues&lt;/Button&gt;
            &lt;Button onClick={() =&gt; {
                this.field.reset();
            }}&gt;reset&lt;/Button&gt;
        &lt;/div&gt;);
    }
}

ReactDOM.render(&lt;App/&gt;, mountNode);
</code></pre></div><style type="text/css">.demo .next-btn {
    margin-right: 5px;
}</style><div class="highlight"><pre><code class="css"><span class="hljs-selector-class">.demo</span> <span class="hljs-selector-class">.next-btn</span> {
    <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">5px</span>;
}</code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p>mutil type of component</p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
    <div class="demo-list-item" id="field-9">
      <div class="demo-list-item-header">
        <a href="#field-9" class="title">custom valueName</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-field-9"></div>
          <script>var mountNode = document.getElementById('react-app-field-9');</script> <script>(function(){'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _next = require('@alife/next');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var App = function (_React$Component) {
    _inherits(App, _React$Component);

    function App() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, App);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = App.__proto__ || Object.getPrototypeOf(App)).call.apply(_ref, [this].concat(args))), _this), _this.field = new _next.Field(_this), _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(App, [{
        key: 'render',
        value: function render() {
            var _this2 = this;

            var init = this.field.init;

            return React.createElement(
                'div',
                { className: 'demo' },
                React.createElement(
                    _next.Radio,
                    init('radio', { initValue: false, valueName: 'checked' }),
                    ' checked'
                ),
                React.createElement('br', null),
                React.createElement(
                    _next.Checkbox,
                    init('checkbox', { valueName: 'checked', initValue: true }),
                    'defaultChecked'
                ),
                React.createElement('br', null),
                React.createElement(_next.Switch, _extends({}, init('switch', { valueName: 'checked', initValue: false }), {
                    style: { marginTop: 10, marginBottom: 10 } })),
                React.createElement('br', null),
                React.createElement(
                    _next.Button,
                    { type: 'primary', onClick: function onClick() {
                            console.log(_this2.field.getValues());
                        } },
                    'getValues'
                ),
                React.createElement(
                    _next.Button,
                    { onClick: function onClick() {
                            _this2.field.setValues({
                                radio: true,
                                switch: true,
                                checkbox: false
                            });
                        } },
                    ' setValues '
                ),
                React.createElement(
                    _next.Button,
                    { onClick: function onClick() {
                            _this2.field.reset();
                        } },
                    'reset'
                )
            );
        }
    }]);

    return App;
}(React.Component);

ReactDOM.render(React.createElement(App, null), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { Button, Checkbox, Radio, Switch, Field } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{

    field = <span class="hljs-keyword">new</span> Field(<span class="hljs-keyword">this</span>);

    render() {
        <span class="hljs-keyword">const</span> init = <span class="hljs-keyword">this</span>.field.init;

        <span class="hljs-keyword">return</span> (<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"demo"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Radio</span> {<span class="hljs-attr">...init</span>('<span class="hljs-attr">radio</span>', {<span class="hljs-attr">initValue:</span> <span class="hljs-attr">false</span>, <span class="hljs-attr">valueName:</span> '<span class="hljs-attr">checked</span>'})} &gt;</span> checked<span class="hljs-tag">&lt;/<span class="hljs-name">Radio</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Checkbox</span> {<span class="hljs-attr">...init</span>('<span class="hljs-attr">checkbox</span>', {<span class="hljs-attr">valueName:</span> '<span class="hljs-attr">checked</span>', <span class="hljs-attr">initValue:</span> <span class="hljs-attr">true</span>})} &gt;</span>
                defaultChecked
            <span class="hljs-tag">&lt;/<span class="hljs-name">Checkbox</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Switch</span> {<span class="hljs-attr">...init</span>('<span class="hljs-attr">switch</span>', {<span class="hljs-attr">valueName:</span> '<span class="hljs-attr">checked</span>', <span class="hljs-attr">initValue:</span> <span class="hljs-attr">false</span>})}
                <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginTop:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">marginBottom:</span> <span class="hljs-attr">10</span>}}/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> {
                console.log(this.field.getValues());
            }}&gt;getValues<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> {
                this.field.setValues({
                    radio: true,
                    switch: true,
                    checkbox: false
                });
            }}&gt; setValues <span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> {
                this.field.reset();
            }}&gt;reset<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>);
    }
}

ReactDOM.render(<span class="hljs-tag">&lt;<span class="hljs-name">App</span>/&gt;</span>, mountNode);</span></code></pre></div><style type="text/css">.demo .next-btn {
    margin-right: 5px;
}</style><div class="highlight"><pre><code class="css"><span class="hljs-selector-class">.demo</span> <span class="hljs-selector-class">.next-btn</span> {
    <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">5px</span>;
}</code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p>default valueName is <code>value</code></p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
    <div class="demo-list-item" id="field-1">
      <div class="demo-list-item-header">
        <a href="#field-1" class="title">custom</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-field-1"></div>
          <script>var mountNode = document.getElementById('react-app-field-1');</script> <script>(function(){'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _next = require('@alife/next');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Custom = function (_React$Component) {
    _inherits(Custom, _React$Component);

    function Custom(props) {
        _classCallCheck(this, Custom);

        var _this = _possibleConstructorReturn(this, (Custom.__proto__ || Object.getPrototypeOf(Custom)).call(this, props));

        _this.onAdd = function () {
            var value = _this.state.value.concat([]);
            value.push('new');

            _this.setState({
                value: value
            });
            _this.props.onChange(value);
        };

        _this.state = {
            value: typeof props.value === 'undefined' ? [] : props.value
        };
        return _this;
    }

    // update value


    _createClass(Custom, [{
        key: 'componentWillReceiveProps',
        value: function componentWillReceiveProps(nextProps) {
            if ('value' in nextProps) {
                this.setState({
                    value: typeof nextProps.value === 'undefined' ? [] : nextProps.value
                });
            }
        }
    }, {
        key: 'render',
        value: function render() {
            return React.createElement(
                'div',
                { className: 'custom' },
                this.state.value.map(function (v, i) {
                    return React.createElement(
                        _next.Button,
                        { key: i },
                        v
                    );
                }),
                React.createElement(
                    _next.Button,
                    { type: 'primary', onClick: this.onAdd.bind(this) },
                    'Add \uFF0B '
                )
            );
        }
    }]);

    return Custom;
}(React.Component);

/* eslint-disable react/no-multi-comp */


var App = function (_React$Component2) {
    _inherits(App, _React$Component2);

    function App() {
        var _ref;

        var _temp, _this2, _ret;

        _classCallCheck(this, App);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this2 = _possibleConstructorReturn(this, (_ref = App.__proto__ || Object.getPrototypeOf(App)).call.apply(_ref, [this].concat(args))), _this2), _this2.field = new _next.Field(_this2, {
            deepReset: true
        }), _temp), _possibleConstructorReturn(_this2, _ret);
    }

    _createClass(App, [{
        key: 'onGetValue',
        value: function onGetValue() {
            console.log(this.field.getValue('custom'));
        }
    }, {
        key: 'render',
        value: function render() {
            var _field = this.field,
                init = _field.init,
                setValue = _field.setValue,
                reset = _field.reset;


            return React.createElement(
                'div',
                { className: 'demo' },
                React.createElement(Custom, init('custom', { initValue: ['test'] })),
                React.createElement('br', null),
                React.createElement('br', null),
                React.createElement(
                    _next.Button,
                    { type: 'primary', onClick: this.onGetValue.bind(this) },
                    'getValue'
                ),
                React.createElement(
                    _next.Button,
                    { type: 'primary', onClick: function onClick() {
                            return setValue('custom', ['test', 'setValue']);
                        } },
                    'setValue'
                ),
                React.createElement(
                    _next.Button,
                    { onClick: function onClick() {
                            return reset();
                        } },
                    'reset'
                )
            );
        }
    }]);

    return App;
}(React.Component);

ReactDOM.render(React.createElement(App, null), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { Button, Field } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Custom</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
    <span class="hljs-keyword">constructor</span>(props) {
        <span class="hljs-keyword">super</span>(props);

        <span class="hljs-keyword">this</span>.state = {
            <span class="hljs-attr">value</span>: <span class="hljs-keyword">typeof</span> props.value === <span class="hljs-string">'undefined'</span> ? [] : props.value
        };
    }

    <span class="hljs-comment">// update value</span>
    componentWillReceiveProps(nextProps) {
        <span class="hljs-keyword">if</span> (<span class="hljs-string">'value'</span> <span class="hljs-keyword">in</span> nextProps) {
            <span class="hljs-keyword">this</span>.setState({
                <span class="hljs-attr">value</span>: <span class="hljs-keyword">typeof</span> nextProps.value === <span class="hljs-string">'undefined'</span> ? [] : nextProps.value
            });
        }
    }

    onAdd = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        <span class="hljs-keyword">const</span> value = <span class="hljs-keyword">this</span>.state.value.concat([]);
        value.push(<span class="hljs-string">'new'</span>);

        <span class="hljs-keyword">this</span>.setState({
            value
        });
        <span class="hljs-keyword">this</span>.props.onChange(value);
    }

    render() {
        <span class="hljs-keyword">return</span> (<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"custom"</span>&gt;</span>
            {this.state.value.map((v, i) =&gt; {
                return <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{i}</span> &gt;</span>{v}<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>;
            })}
            <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{this.onAdd.bind(this)}</span>&gt;</span>Add ＋ <span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>);
    }
}

<span class="hljs-comment">/* eslint-disable react/no-multi-comp */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
    field = <span class="hljs-keyword">new</span> Field(<span class="hljs-keyword">this</span>, {
        <span class="hljs-attr">deepReset</span>: <span class="hljs-literal">true</span>
    });

    onGetValue() {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>.field.getValue(<span class="hljs-string">'custom'</span>));
    }

    render() {
        <span class="hljs-keyword">const</span> { init, setValue, reset } = <span class="hljs-keyword">this</span>.field;

        <span class="hljs-keyword">return</span> (<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"demo"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Custom</span>  {<span class="hljs-attr">...init</span>('<span class="hljs-attr">custom</span>', {<span class="hljs-attr">initValue:</span> ['<span class="hljs-attr">test</span>']})}  /&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{this.onGetValue.bind(this)}</span>&gt;</span>getValue<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setValue('custom', ['test', 'setValue'])}&gt;setValue<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> reset()}&gt;reset<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>);
    }
}
ReactDOM.render(<span class="hljs-tag">&lt;<span class="hljs-name">App</span>/&gt;</span>, mountNode);</span></code></pre></div><style type="text/css">.demo .next-btn {
    margin-right: 5px;
}
.custom {
    border: 1px dashed;
    padding: 4px;
    display: inline-block;
}
.custom span {
    border: 1px solid green;
    padding: 0px 5px;
    height: 24px;
    display: inline-block;
    margin-right: 2px;
}</style><div class="highlight"><pre><code class="css"><span class="hljs-selector-class">.demo</span> <span class="hljs-selector-class">.next-btn</span> {
    <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">5px</span>;
}
<span class="hljs-selector-class">.custom</span> {
    <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> dashed;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">4px</span>;
    <span class="hljs-attribute">display</span>: inline-block;
}
<span class="hljs-selector-class">.custom</span> <span class="hljs-selector-tag">span</span> {
    <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid green;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">0px</span> <span class="hljs-number">5px</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">24px</span>;
    <span class="hljs-attribute">display</span>: inline-block;
    <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">2px</span>;
}</code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p><code>must</code>: has api of <code>onChange</code>, so you can use <code>getValue</code> but you can&#39;t <code>setValue</code>
<code>perfect support</code>: has api of <code>value</code> <code>onChange</code>. value: set data for component; onChange: return first param for component</p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
    <div class="demo-list-item" id="field-7">
      <div class="demo-list-item-header">
        <a href="#field-7" class="title">Array or Object</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-field-7"></div>
          <script>var mountNode = document.getElementById('react-app-field-7');</script> <script>(function(){'use strict';

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _next = require('@alife/next');

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var App = function (_React$Component) {
    _inherits(App, _React$Component);

    function App() {
        var _ref;

        var _temp, _this, _ret;

        _classCallCheck(this, App);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = App.__proto__ || Object.getPrototypeOf(App)).call.apply(_ref, [this].concat(args))), _this), _this.field = new _next.Field(_this, {
            parseName: true
        }), _temp), _possibleConstructorReturn(_this, _ret);
    }

    _createClass(App, [{
        key: 'onGetValue',
        value: function onGetValue() {
            console.log(this.field.getValues());
        }
    }, {
        key: 'onSetValue',
        value: function onSetValue() {
            this.field.setValues({
                obj: {
                    b: 'b',
                    c: 'c'
                },
                arr: ['first', 'second']
            });
        }
    }, {
        key: 'render',
        value: function render() {
            var _field = this.field,
                init = _field.init,
                reset = _field.reset;


            return React.createElement(
                'div',
                { className: 'demo' },
                React.createElement(
                    'h2',
                    null,
                    'Object transfer'
                ),
                React.createElement(_next.Input, init('obj.b', { initValue: 'test1' })),
                ' \xA0',
                React.createElement(_next.Input, init('obj.c', { initValue: 'test2' })),
                React.createElement('br', null),
                React.createElement(
                    'h2',
                    null,
                    'Array transfer'
                ),
                React.createElement(_next.Input, init('arr.0', { initValue: '0' })),
                ' \xA0',
                React.createElement(_next.Input, init('arr.1', { initValue: '1' })),
                React.createElement('br', null),
                React.createElement('br', null),
                'result:',
                React.createElement(
                    'pre',
                    null,
                    JSON.stringify(this.field.getValues(), null, 2)
                ),
                React.createElement('br', null),
                React.createElement('br', null),
                React.createElement(
                    _next.Button,
                    { type: 'primary', onClick: this.onGetValue.bind(this) },
                    'getValues'
                ),
                React.createElement(
                    _next.Button,
                    { onClick: this.onSetValue.bind(this) },
                    'setValues'
                ),
                React.createElement(
                    _next.Button,
                    { onClick: function onClick() {
                            return reset();
                        } },
                    'reset'
                )
            );
        }
    }]);

    return App;
}(React.Component);

ReactDOM.render(React.createElement(App, null), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { Input, Button, Field } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
    field = <span class="hljs-keyword">new</span> Field(<span class="hljs-keyword">this</span>, {
        <span class="hljs-attr">parseName</span>: <span class="hljs-literal">true</span>
    });

    onGetValue() {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>.field.getValues());
    }

    onSetValue() {
        <span class="hljs-keyword">this</span>.field.setValues({
            <span class="hljs-attr">obj</span>: {
                <span class="hljs-attr">b</span>: <span class="hljs-string">'b'</span>,
                <span class="hljs-attr">c</span>: <span class="hljs-string">'c'</span>
            },
            <span class="hljs-attr">arr</span>: [<span class="hljs-string">'first'</span>, <span class="hljs-string">'second'</span>]
        });
    }

    render() {
        <span class="hljs-keyword">const</span> { init, reset } = <span class="hljs-keyword">this</span>.field;

        <span class="hljs-keyword">return</span> (&lt;div className="demo"&gt;
            &lt;h2&gt;Object transfer&lt;/h2&gt;
            &lt;Input  {...init('obj.b', {initValue: 'test1'})}  /&gt; &amp;nbsp;
            &lt;Input  {...init('obj.c', {initValue: 'test2'})}  /&gt;

            &lt;br/&gt;

            &lt;h2&gt;Array transfer&lt;/h2&gt;
            &lt;Input  {...init('arr.0', {initValue: '0'})}  /&gt; &amp;nbsp;
            &lt;Input  {...init('arr.1', {initValue: '1'})}  /&gt;
            &lt;br/&gt;&lt;br/&gt;

            result:
            &lt;pre&gt;{JSON.stringify(this.field.getValues(), null, 2)}&lt;/pre&gt;

            &lt;br/&gt;&lt;br/&gt;

            &lt;Button type="primary" onClick={this.onGetValue.bind(this)}&gt;getValues&lt;/Button&gt;
            &lt;Button onClick={this.onSetValue.bind(this)}&gt;setValues&lt;/Button&gt;
            &lt;Button onClick={() =&gt; reset()}&gt;reset&lt;/Button&gt;
        &lt;/div&gt;);
    }
}

ReactDOM.render(&lt;App/&gt;, mountNode);</code></pre></div><style type="text/css">.demo .next-btn {
    margin-right: 5px;
}</style><div class="highlight"><pre><code class="css"><span class="hljs-selector-class">.demo</span> <span class="hljs-selector-class">.next-btn</span> {
    <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">5px</span>;
}</code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p>from <code>init(&#39;obj.b&#39;)</code> to <code>obj={obj:{b:&#39;value&#39;}}</code>；</p>
<p>from <code>init(&#39;arr.0&#39;)</code> to <code>obj={arr:[&#39;&#39;]}</code>；</p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
  </div>
  <div class="demo-api">
    <div class="title">API</div>
    <div class="demo-api-body markdown" id="demo-api"></div>
  </div>
</div>

  <script src="//g.alicdn.com/next/fusion-dev-static/3.4.32/common.js?t=847086"></script>
  <script src="//g.alicdn.com/next/fusion-dev-static/3.4.32/demo-util.js?t=847086"></script>
</body>

</html>
