

<!doctype html>
<html>

<head>
  <title>Overlay</title>
  <meta charset="utf-8" />
  <meta name="description" content="Fusion Dev" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" type="image/png" href="./statics/TB1LG1yhMoQMeJjy0FoXXcShVXa-32-33.png" sizes="32x32">
  <link rel="stylesheet" href="//g.alicdn.com/next/fusion-dev-static/3.4.32/style-demo.css?t=847086"> 
<link rel="stylesheet" href="./statics/next.min.css"></link>

  <script src="./statics/react-16-2-0-react-development-js,react-16-2-0-react-dom-development-js,jquery-1-11-3-jquery-min.js"></script>
  <script src="./statics/prop-types.min.js"></script>
  <script src="./statics/moment-with-locales.min.js"></script>
</head>

<body><script>
with(document)with(body)with(insertBefore(createElement("script"),firstChild))setAttribute("exparams","category=&userid=&aplus&yunid=&&trid=0be21d0615249006575305623e16e0&asid=AQAAAAAyI+RajtNpWAAAAAABazGX2yvVjw==",id="tb-beacon-aplus",src=(location>"https"?"//g":"//g")+".alicdn.com/alilog/mlog/aplus_v2.js")
</script>

  
<script src="./statics/common-js,next.js"></script>
<script src="./statics/next-with-locales.min.js"></script>
<script>
  window.react = window.React;
  window['react-dom'] = window.ReactDOM;
  window['prop-types'] = window.PropTypes;
  window['@alife/next'] = window.Next;
  window.ConfigProvider = window.Next.ConfigProvider;
  window.customIcons = [];

  
  (function () {
    ConfigProvider.initLocales(window.Next.locales);
    var fusionLocale = 'en_US';
    ConfigProvider.setLanguage(fusionLocale === 'en_US' ? 'en-us' : 'zh-cn');
  })();
  
</script>

<div class="demo-wrapper pc">
  <div class="demo-index">
    <ul class="demo-index-list">
      
      <li class="demo-index-item">
        <a href="#demo-guide">Development Guide</a>
      </li>
      <li class="demo-index-item">
        <a href="#demo-list">Exapmles</a>
      </li>
       
      <li class="demo-index-item demo-index-item-sub">
        <a href="#overlay-3">Basic</a>
      </li>
      
      <li class="demo-index-item demo-index-item-sub">
        <a href="#overlay-0">Mask</a>
      </li>
      
      <li class="demo-index-item demo-index-item-sub">
        <a href="#overlay-4">Popup</a>
      </li>
      
      <li class="demo-index-item demo-index-item-sub">
        <a href="#overlay-1">Popup under control</a>
      </li>
      
      <li class="demo-index-item demo-index-item-sub">
        <a href="#overlay-2">Nested overlay</a>
      </li>
      
      <li class="demo-index-item demo-index-item-sub">
        <a href="#overlay-5">Overlay follows the container scroll</a>
      </li>
       
      <li class="demo-index-item">
        <a href="#demo-api">API</a>
      </li>
      
    </ul>
  </div>

  
  <div class="demo-header">
    <div class="title">
       Overlay
    </div>
  </div>
  <div class="demo-guide markdown" id="demo-guide"><p>A collection of tool for generating overlay.</p>
<h2 id="guide">Guide<a href="#guide" class="anchor">#</a></h2><p>Overlay provides a series of components for creating overlay:</p>
<h3 id="overlay">Overlay<a href="#overlay" class="anchor">#</a></h3><p>Overlay can pop up a layer in the page, provides positioning, animation and other common functions. Overlay is designed as a stateless component that does not control the state of its own visible.</p>
<p><strong>Note:</strong> Configurations like canCloseby* also need to work with onRequestClose to close the overlay.</p>
<h4 id="safe-node">Safe node<a href="#safe-node" class="anchor">#</a></h4><p>Overlay provides the function of hiding itself by clicking document. If you want to click a node and do not hide the overlay (for example, the node that triggers the overlay to open), pass the node to the safeNode property.</p>
<h4 id="alignment">Alignment<a href="#alignment" class="anchor">#</a></h4><ol>
<li><p>The value of the align property can be a space-separated string, such as <code>tl bl</code>, <code>tl</code> means the top left of the target element and <code>bl</code> means the bottom left of the reference element, so <code>tl bl</code> means the top left of the target element aligns with the bottom left of the reference element. Among the available options are <code>tl</code>, <code>tc</code>, <code>tr</code>, <code>cl</code>, <code>cc</code>, <code>cr</code>, <code>bl</code>, <code>bc</code>, <code>br</code>. <code>t</code> is short for <code>top</code>, <code>b</code> is short for <code>bottom</code>, <code>c</code> is short for <code>center</code>, <code>l</code> is short for <code>left</code>, and <code>r</code> is short for <code>right</code>.</p>
</li>
<li><p>The align support Boolean value is only false. When set to false, JS positioning is not used, so you can pass the style or className for CSS positioning according to your needs.</p>
</li>
</ol>
<p>The following example shows how to position the overlay to the top right corner of the page:</p>
<div class="highlight"><pre><code class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Overlay</span> <span class="hljs-attr">visible</span> <span class="hljs-attr">align</span>=<span class="hljs-string">"tr tr"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>123<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Overlay</span>&gt;</span></code></pre></div><h3 id="popup">Popup<a href="#popup" class="anchor">#</a></h3><p>Popup is the wrapper of Overlay. It receives a node as a trigger node and pops up a overlay. This overlay uses the node as the reference element for positioning by default.</p>
<h2 id="api">API<a href="#api" class="anchor">#</a></h2><h3 id="overlay">Overlay<a href="#overlay" class="anchor">#</a></h3><table>
<thead>
<tr>
<th>param</th>
<th>desc</th>
<th>type</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>children</td>
<td>conent of overlay</td>
<td>any</td>
<td>-</td>
</tr>
<tr>
<td>visible</td>
<td>whether to show the overlay</td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>onRequestClose</td>
<td>callback function that triggers an event when the overlay request closed<br><br><strong>signatures</strong>:<br>Function(type: String, e: Object) =&gt; void<br><strong>params</strong>:<br><em>type</em>: {String} the reason of the overlay closure<br>_e_: {Object} DOM event</td>
<td>Function</td>
<td>func.noop</td>
</tr>
<tr>
<td>target</td>
<td>reference element for overlay positioning</td>
<td>any</td>
<td>Position.VIEWPORT</td>
</tr>
<tr>
<td>align</td>
<td>alignment of the overlay relative to the reference element, see <a href="#Alignment" target="_blank">Alignment</a></td>
<td>String/Boolean</td>
<td>&#39;tl bl&#39;</td>
</tr>
<tr>
<td>offset</td>
<td>offset of the overlay relative to the reference element</td>
<td>Array</td>
<td>[0, 0]</td>
</tr>
<tr>
<td>container</td>
<td>container of the overlay, if it is a function, it should return ref, if it is a string, it is should be the id of the DOM element, it can also be passed the DOM element directly.</td>
<td>any</td>
<td>-</td>
</tr>
<tr>
<td>hasMask</td>
<td>whether to show the mask</td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>canCloseByEsc</td>
<td>whether to support pressing esc to close the overlay</td>
<td>Boolean</td>
<td>true</td>
</tr>
<tr>
<td>canCloseByOutSideClick</td>
<td>whether to support clicking the outside to close the overlay when the mask is hidden</td>
<td>Boolean</td>
<td>true</td>
</tr>
<tr>
<td>canCloseByMask</td>
<td>whether to support clicking the mask to close the overlay when the mask is visible</td>
<td>Boolean</td>
<td>true</td>
</tr>
<tr>
<td>beforeOpen</td>
<td>callback function that triggers the event before the overlay opens<br><br><strong>signatures</strong>:<br>Function() =&gt; void</td>
<td>Function</td>
<td>func.noop</td>
</tr>
<tr>
<td>onOpen</td>
<td>callback function that triggers the event when the overlay opens<br><br><strong>signatures</strong>:<br>Function() =&gt; void</td>
<td>Function</td>
<td>func.noop</td>
</tr>
<tr>
<td>afterOpen</td>
<td>callback function that triggers the event after the overlay opens, if enable animations, trigger after the animation ends<br><br><strong>signatures</strong>:<br>Function() =&gt; void</td>
<td>Function</td>
<td>func.noop</td>
</tr>
<tr>
<td>beforeClose</td>
<td>callback function that triggers the event before the overlay closes<br><br><strong>signatures</strong>:<br>Function() =&gt; void</td>
<td>Function</td>
<td>func.noop</td>
</tr>
<tr>
<td>onClose</td>
<td>callback function that triggers the event when the overlay closes<br><br><strong>signatures</strong>:<br>Function() =&gt; void</td>
<td>Function</td>
<td>func.noop</td>
</tr>
<tr>
<td>afterClose</td>
<td>callback function that triggers the event after the overlay closes, if enable animations, trigger after the animation ends<br><br><strong>signatures</strong>:<br>Function() =&gt; void</td>
<td>Function</td>
<td>func.noop</td>
</tr>
<tr>
<td>beforePosition</td>
<td>callback function that triggers the event before the overlay posiitons<br><br><strong>signatures</strong>:<br>Function() =&gt; void</td>
<td>Function</td>
<td>func.noop</td>
</tr>
<tr>
<td>onPosition</td>
<td>callback function that triggers the event when the overlay posiitons<br><br><strong>signatures</strong>:<br>Function(config: Object, node: Object) =&gt; void<br><strong>params</strong>:<br><em>config</em>: {Object} position arguments<br><em>config.align</em>: {Array} alignment, such as [&#39;cc&#39;, &#39;cc&#39;] (if you enable needAdjust, it may be different from pre-set align)<br><em>config.top</em>: {Number} distance from the top of the viewport<br><em>config.left</em>: {Number} distance from the left of the viewport<br><em>node</em>: {Object} container node</td>
<td>Function</td>
<td>func.noop</td>
</tr>
<tr>
<td>shouldUpdatePosition</td>
<td>whether to force the update of positioning after each rerendered, which is generally used to maintain the original positioning when the size of the content area changes.</td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>autoFocus</td>
<td>whether to focus the element in the overlay automatically when the overlay is opened</td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>needAdjust</td>
<td>when the overlay is not visible due to scrolling of the page, does it automatically adjust the position to appear in the visible area?</td>
<td>Boolean</td>
<td>true</td>
</tr>
<tr>
<td>disableScroll</td>
<td>whether to disable page scrolling</td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>cache</td>
<td>whether to keep dom nodes when hidden</td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>safeNode</td>
<td>when clicking on the document, does not close the overlay if the node is included. If it is a function, it should return ref, if it is a string, it should be the id of the DOM element, it can also be directly passed to the DOM element, or the above values Array</td>
<td>any</td>
<td>-</td>
</tr>
<tr>
<td>wrapperClassName</td>
<td>class name of the overlay&#39;s wrapper node</td>
<td>String</td>
<td>-</td>
</tr>
<tr>
<td>animation</td>
<td>configure animation, support the {in: &#39;enter-class&#39;, out: &#39;leave-class&#39; } object parameters, if set to false, do not play the animation</td>
<td>Object/Boolean</td>
<td>{ in: &#39;expandInDown&#39;, out: &#39;expandOutUp&#39; }</td>
</tr>
</tbody>
</table>
<h3 id="overlay-popup">Overlay.Popup<a href="#overlay-popup" class="anchor">#</a></h3><blockquote>
<p>Inherited Overlay&#39;s API unless otherwise specified</p>
</blockquote>
<table>
<thead>
<tr>
<th>param</th>
<th>desc</th>
<th>type</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>children</td>
<td>content of overlay</td>
<td>ReactNode</td>
<td>-</td>
</tr>
<tr>
<td>trigger</td>
<td>trigger the overlay to show or hide elements</td>
<td>ReactElement</td>
<td>-</td>
</tr>
<tr>
<td>triggerType</td>
<td>trigger the overlay to show or hide operations<br><br><strong>options</strong>:<br>&#39;click&#39;, &#39;hover&#39;, &#39;focus&#39;</td>
<td>Enum</td>
<td>&#39;hover&#39;</td>
</tr>
<tr>
<td>visible</td>
<td>whether the overlay is visiible currently</td>
<td>Boolean</td>
<td>-</td>
</tr>
<tr>
<td>defaultVisible</td>
<td>whether the overlay is visiible default</td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>onVisibleChange</td>
<td>callback function triggered when the ovlery is visible or hidden<br><br><strong>signatures</strong>:<br>Function(visible: Boolean, type: String, e: Object) =&gt; void<br><strong>params</strong>:<br><em>visible</em>: {Boolean} whether the overlay is visible<br><em>type</em>: {String} the reason that triggers the overlay to show or hide<br>_e_: {Object} DOM event</td>
<td>Function</td>
<td>func.noop</td>
</tr>
<tr>
<td>disabled</td>
<td>if set this property, the overlay cannot be shown or hidden</td>
<td>Boolean</td>
<td>false</td>
</tr>
<tr>
<td>delay</td>
<td>The delay time, in milliseconds, that the overlay shows or hides and only works when triggerType is set to hover</td>
<td>Number</td>
<td>200</td>
</tr>
<tr>
<td>canCloseByTrigger</td>
<td>whether the trigger element can close the overlay</td>
<td>Boolean</td>
<td>true</td>
</tr>
<tr>
<td>target</td>
<td>reference element for overlay positioning</td>
<td>any</td>
<td>trigger element</td>
</tr>
</tbody>
</table>
</div>
  

  <div class="demo-list" id="demo-list">
    
    <div class="demo-list-item" id="overlay-3">
      <div class="demo-list-item-header">
        <a href="#overlay-3" class="title">Basic</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-overlay-3"></div>
          <script>var mountNode = document.getElementById('react-app-overlay-3');</script> <script>(function(){"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _next = require("@alife/next");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Demo = function (_React$Component) {
    _inherits(Demo, _React$Component);

    function Demo(props) {
        _classCallCheck(this, Demo);

        var _this = _possibleConstructorReturn(this, (Demo.__proto__ || Object.getPrototypeOf(Demo)).call(this, props));

        _this.onClick = function () {
            _this.setState({
                visible: !_this.state.visible
            });
        };

        _this.onClose = function () {
            _this.setState({
                visible: false
            });
        };

        _this.state = {
            visible: false
        };
        return _this;
    }

    _createClass(Demo, [{
        key: "render",
        value: function render() {
            var _this2 = this;

            return React.createElement(
                "div",
                null,
                React.createElement(
                    "button",
                    { onClick: this.onClick, ref: function ref(_ref) {
                            _this2.btn = _ref;
                        } },
                    "Toggle visible"
                ),
                React.createElement(
                    _next.Overlay,
                    { visible: this.state.visible,
                        target: function target() {
                            return _this2.btn;
                        },
                        safeNode: function safeNode() {
                            return _this2.btn;
                        },
                        onRequestClose: this.onClose },
                    React.createElement(
                        "span",
                        { className: "overlay-demo" },
                        "Hello World From Overlay!"
                    )
                )
            );
        }
    }]);

    return Demo;
}(React.Component);

ReactDOM.render(React.createElement(Demo, null), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { Overlay } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Demo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
    <span class="hljs-keyword">constructor</span>(props) {
        <span class="hljs-keyword">super</span>(props);

        <span class="hljs-keyword">this</span>.state = {
            <span class="hljs-attr">visible</span>: <span class="hljs-literal">false</span>
        };
    }

    onClick = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        <span class="hljs-keyword">this</span>.setState({
            <span class="hljs-attr">visible</span>: !<span class="hljs-keyword">this</span>.state.visible
        });
    }

    onClose = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        <span class="hljs-keyword">this</span>.setState({
            <span class="hljs-attr">visible</span>: <span class="hljs-literal">false</span>
        });
    }

    render() {
        <span class="hljs-keyword">return</span> (
            <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{this.onClick}</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{ref</span> =&gt;</span> {
                    this.btn = ref;
                }}&gt;
                    Toggle visible
                <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Overlay</span> <span class="hljs-attr">visible</span>=<span class="hljs-string">{this.state.visible}</span>
                    <span class="hljs-attr">target</span>=<span class="hljs-string">{()</span> =&gt;</span> this.btn}
                    safeNode={() =&gt; this.btn}
                    onRequestClose={this.onClose}&gt;
                    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"overlay-demo"</span>&gt;</span>
                        Hello World From Overlay!
                    <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">Overlay</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
        );
    }
}

ReactDOM.render(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Demo</span> /&gt;</span>, mountNode);</span></code></pre></div><style type="text/css">.overlay-demo {
    width: 300px;
    height: 100px;
    padding: 10px;
    border: 1px solid #999999;
    background: #FFFFFF;
    box-shadow: 2px 2px 20px rgba(0,0,0,0.15);
}</style><div class="highlight"><pre><code class="css"><span class="hljs-selector-class">.overlay-demo</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
    <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#999999</span>;
    <span class="hljs-attribute">background</span>: <span class="hljs-number">#FFFFFF</span>;
    <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">2px</span> <span class="hljs-number">2px</span> <span class="hljs-number">20px</span> <span class="hljs-built_in">rgba</span>(0,0,0,0.15);
}</code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p>Pop up a overlay.</p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
    <div class="demo-list-item" id="overlay-0">
      <div class="demo-list-item-header">
        <a href="#overlay-0" class="title">Mask</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-overlay-0"></div>
          <script>var mountNode = document.getElementById('react-app-overlay-0');</script> <script>(function(){"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _next = require("@alife/next");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Demo = function (_React$Component) {
    _inherits(Demo, _React$Component);

    function Demo(props) {
        _classCallCheck(this, Demo);

        var _this = _possibleConstructorReturn(this, (Demo.__proto__ || Object.getPrototypeOf(Demo)).call(this, props));

        _this.onClick = function () {
            _this.setState({
                visible: true
            });
        };

        _this.onClose = function () {
            _this.setState({
                visible: false
            });
        };

        _this.state = {
            visible: false
        };
        return _this;
    }

    _createClass(Demo, [{
        key: "render",
        value: function render() {
            var _this2 = this;

            return React.createElement(
                "div",
                null,
                React.createElement(
                    "button",
                    { onClick: this.onClick, ref: function ref(_ref) {
                            _this2.btn = _ref;
                        } },
                    "Open"
                ),
                React.createElement(
                    _next.Overlay,
                    { visible: this.state.visible,
                        safeNode: function safeNode() {
                            return _this2.btn;
                        },
                        align: "cc cc",
                        hasMask: true,
                        disableScroll: true,
                        onRequestClose: this.onClose },
                    React.createElement(
                        "span",
                        { className: "overlay-demo" },
                        "Hello World From Overlay!"
                    )
                )
            );
        }
    }]);

    return Demo;
}(React.Component);

ReactDOM.render(React.createElement(Demo, null), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { Overlay } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Demo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
    <span class="hljs-keyword">constructor</span>(props) {
        <span class="hljs-keyword">super</span>(props);

        <span class="hljs-keyword">this</span>.state = {
            <span class="hljs-attr">visible</span>: <span class="hljs-literal">false</span>
        };
    }

    onClick = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        <span class="hljs-keyword">this</span>.setState({
            <span class="hljs-attr">visible</span>: <span class="hljs-literal">true</span>
        });
    }

    onClose = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
        <span class="hljs-keyword">this</span>.setState({
            <span class="hljs-attr">visible</span>: <span class="hljs-literal">false</span>
        });
    }

    render() {
        <span class="hljs-keyword">return</span> (
            <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{this.onClick}</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{ref</span> =&gt;</span> {
                    this.btn = ref;
                }}&gt;
                    Open
                <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Overlay</span> <span class="hljs-attr">visible</span>=<span class="hljs-string">{this.state.visible}</span>
                    <span class="hljs-attr">safeNode</span>=<span class="hljs-string">{()</span> =&gt;</span> this.btn}
                    align="cc cc"
                    hasMask
                    disableScroll
                    onRequestClose={this.onClose}&gt;
                    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"overlay-demo"</span>&gt;</span>
                        Hello World From Overlay!
                    <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">Overlay</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
        );
    }
}

ReactDOM.render(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Demo</span> /&gt;</span>, mountNode);</span></code></pre></div><style type="text/css">.overlay-demo {
    width: 300px;
    height: 100px;
    padding: 10px;
    border: 1px solid #999999;
    background: #FFFFFF;
    box-shadow: 2px 2px 20px rgba(0,0,0,0.15);
}</style><div class="highlight"><pre><code class="css"><span class="hljs-selector-class">.overlay-demo</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
    <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#999999</span>;
    <span class="hljs-attribute">background</span>: <span class="hljs-number">#FFFFFF</span>;
    <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">2px</span> <span class="hljs-number">2px</span> <span class="hljs-number">20px</span> <span class="hljs-built_in">rgba</span>(0,0,0,0.15);
}</code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p>The overlay with mask.</p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
    <div class="demo-list-item" id="overlay-4">
      <div class="demo-list-item-header">
        <a href="#overlay-4" class="title">Popup</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-overlay-4"></div>
          <script>var mountNode = document.getElementById('react-app-overlay-4');</script> <script>(function(){"use strict";

var _next = require("@alife/next");

var Popup = _next.Overlay.Popup;


ReactDOM.render(React.createElement(
    Popup,
    { trigger: React.createElement(
            "button",
            null,
            "Open"
        ), triggerType: "click" },
    React.createElement(
        "span",
        { className: "overlay-demo" },
        "Hello World From Popup!"
    )
), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { Overlay } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

<span class="hljs-keyword">const</span> { Popup } = Overlay;

ReactDOM.render(
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Popup</span> <span class="hljs-attr">trigger</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">button</span>&gt;</span>Open<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>} triggerType="click"&gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"overlay-demo"</span>&gt;</span>
            Hello World From Popup!
        <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Popup</span>&gt;</span></span>, mountNode);</code></pre></div><style type="text/css">.overlay-demo {
    width: 300px;
    height: 100px;
    padding: 10px;
    border: 1px solid #999999;
    background: #FFFFFF;
    box-shadow: 2px 2px 20px rgba(0,0,0,0.15);
}</style><div class="highlight"><pre><code class="css"><span class="hljs-selector-class">.overlay-demo</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
    <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#999999</span>;
    <span class="hljs-attribute">background</span>: <span class="hljs-number">#FFFFFF</span>;
    <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">2px</span> <span class="hljs-number">2px</span> <span class="hljs-number">20px</span> <span class="hljs-built_in">rgba</span>(0,0,0,0.15);
}</code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p>Use popup to pop up a overlay.</p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
    <div class="demo-list-item" id="overlay-1">
      <div class="demo-list-item-header">
        <a href="#overlay-1" class="title">Popup under control</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-overlay-1"></div>
          <script>var mountNode = document.getElementById('react-app-overlay-1');</script> <script>(function(){"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _next = require("@alife/next");

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Popup = _next.Overlay.Popup;

var Demo = function (_React$Component) {
    _inherits(Demo, _React$Component);

    function Demo(props) {
        _classCallCheck(this, Demo);

        var _this = _possibleConstructorReturn(this, (Demo.__proto__ || Object.getPrototypeOf(Demo)).call(this, props));

        _this.onVisibleChange = function (visible) {
            _this.setState({
                visible: visible
            });
        };

        _this.state = {
            visible: false
        };
        return _this;
    }

    _createClass(Demo, [{
        key: "render",
        value: function render() {
            return React.createElement(
                Popup,
                { trigger: React.createElement(
                        "button",
                        null,
                        "Open"
                    ),
                    triggerType: "click",
                    visible: this.state.visible,
                    onVisibleChange: this.onVisibleChange },
                React.createElement(
                    "span",
                    { className: "overlay-demo" },
                    "Hello World From Popup!"
                )
            );
        }
    }]);

    return Demo;
}(React.Component);

ReactDOM.render(React.createElement(Demo, null), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { Overlay } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

<span class="hljs-keyword">const</span> { Popup } = Overlay;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Demo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{
    <span class="hljs-keyword">constructor</span>(props) {
        <span class="hljs-keyword">super</span>(props);

        <span class="hljs-keyword">this</span>.state = {
            <span class="hljs-attr">visible</span>: <span class="hljs-literal">false</span>
        };
    }

    onVisibleChange = <span class="hljs-function"><span class="hljs-params">visible</span> =&gt;</span> {
        <span class="hljs-keyword">this</span>.setState({
            visible
        });
    }

    render() {
        <span class="hljs-keyword">return</span> (
            <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Popup</span> <span class="hljs-attr">trigger</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">button</span>&gt;</span>Open<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>}
                triggerType="click"
                visible={this.state.visible}
                onVisibleChange={this.onVisibleChange}&gt;
                <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"overlay-demo"</span>&gt;</span>
                    Hello World From Popup!
                <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Popup</span>&gt;</span></span>
        );
    }
}

ReactDOM.render(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Demo</span> /&gt;</span>, mountNode);</span></code></pre></div><style type="text/css">.overlay-demo {
    width: 300px;
    height: 100px;
    padding: 10px;
    border: 1px solid #999999;
    background: #FFFFFF;
    box-shadow: 2px 2px 20px rgba(0,0,0,0.15);
}</style><div class="highlight"><pre><code class="css"><span class="hljs-selector-class">.overlay-demo</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
    <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#999999</span>;
    <span class="hljs-attribute">background</span>: <span class="hljs-number">#FFFFFF</span>;
    <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">2px</span> <span class="hljs-number">2px</span> <span class="hljs-number">20px</span> <span class="hljs-built_in">rgba</span>(0,0,0,0.15);
}</code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p>Demos Popup under control usage.</p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
    <div class="demo-list-item" id="overlay-2">
      <div class="demo-list-item-header">
        <a href="#overlay-2" class="title">Nested overlay</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-overlay-2"></div>
          <script>var mountNode = document.getElementById('react-app-overlay-2');</script> <script>(function(){"use strict";

var _next = require("@alife/next");

var Popup = _next.Overlay.Popup;


ReactDOM.render(React.createElement(
    Popup,
    { trigger: React.createElement(
            "button",
            null,
            "Open first overlay"
        ),
        triggerType: "click" },
    React.createElement(
        "div",
        { className: "overlay-demo" },
        React.createElement(
            Popup,
            { trigger: React.createElement(
                    "button",
                    null,
                    "Open second overlay"
                ),
                triggerType: "click",
                container: function container(trigger) {
                    return trigger.parentNode;
                } },
            React.createElement(
                "div",
                { className: "overlay-demo" },
                React.createElement(
                    "p",
                    null,
                    "Hello World From Second Overlay!"
                )
            )
        ),
        React.createElement(
            "p",
            null,
            "Hello World From First Overlay!"
        )
    )
), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { Overlay } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

<span class="hljs-keyword">const</span> { Popup } = Overlay;

ReactDOM.render((
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Popup</span> <span class="hljs-attr">trigger</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">button</span>&gt;</span>Open first overlay<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>}
        triggerType="click"&gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"overlay-demo"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Popup</span> <span class="hljs-attr">trigger</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">button</span>&gt;</span>Open second overlay<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>}
                triggerType="click"
                container={trigger =&gt; trigger.parentNode}&gt;
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"overlay-demo"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Hello World From Second Overlay!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Popup</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Hello World From First Overlay!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Popup</span>&gt;</span></span>
), mountNode);</code></pre></div><style type="text/css">.overlay-demo {
    width: 300px;
    height: 100px;
    padding: 10px;
    border: 1px solid #999999;
    background: #FFFFFF;
    box-shadow: 2px 2px 20px rgba(0,0,0,0.15);
}</style><div class="highlight"><pre><code class="css"><span class="hljs-selector-class">.overlay-demo</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
    <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#999999</span>;
    <span class="hljs-attribute">background</span>: <span class="hljs-number">#FFFFFF</span>;
    <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">2px</span> <span class="hljs-number">2px</span> <span class="hljs-number">20px</span> <span class="hljs-built_in">rgba</span>(0,0,0,0.15);
}</code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p>When there is a overlay nesting requirement, use the container property to render the second overlay inside the first overlay.</p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
    <div class="demo-list-item" id="overlay-5">
      <div class="demo-list-item-header">
        <a href="#overlay-5" class="title">Overlay follows the container scroll</a>
      </div>
      <div class="demo-list-item-body">
        <div class="demo-list-item-viewbox">
          <div id="react-app-overlay-5"></div>
          <script>var mountNode = document.getElementById('react-app-overlay-5');</script> <script>(function(){"use strict";

var _next = require("@alife/next");

var Popup = _next.Overlay.Popup;


ReactDOM.render(React.createElement(
    "div",
    { className: "scroll-container" },
    React.createElement(
        Popup,
        { trigger: React.createElement(
                "button",
                null,
                "Open"
            ),
            triggerType: "click",
            container: function container(trigger) {
                return trigger.parentNode;
            } },
        React.createElement(
            "div",
            { className: "overlay-demo" },
            "Hello World From Popup!"
        )
    ),
    React.createElement("div", { style: { height: '300px' } })
), mountNode);})()</script><div class="highlight"><pre><code class="javascript"><span class="hljs-keyword">import</span> { Overlay } <span class="hljs-keyword">from</span> <span class="hljs-string">'aop-ui'</span>;

<span class="hljs-keyword">const</span> { Popup } = Overlay;

ReactDOM.render((
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"scroll-container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Popup</span> <span class="hljs-attr">trigger</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">button</span>&gt;</span>Open<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>}
            triggerType="click"
            container={trigger =&gt; trigger.parentNode}&gt;
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"overlay-demo"</span>&gt;</span>
                Hello World From Popup!
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Popup</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">height:</span> '<span class="hljs-attr">300px</span>' }} /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
), mountNode);</span></code></pre></div><style type="text/css">.overlay-demo {
    width: 300px;
    height: 100px;
    padding: 10px;
    border: 1px solid #999999;
    background: #FFFFFF;
    box-shadow: 2px 2px 20px rgba(0,0,0,0.15);
}

.scroll-container {
    position: relative;
    height: 150px;
    padding: 10px;
    border: 1px solid #999999;
    overflow: auto;
}</style><div class="highlight"><pre><code class="css"><span class="hljs-selector-class">.overlay-demo</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
    <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#999999</span>;
    <span class="hljs-attribute">background</span>: <span class="hljs-number">#FFFFFF</span>;
    <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">2px</span> <span class="hljs-number">2px</span> <span class="hljs-number">20px</span> <span class="hljs-built_in">rgba</span>(0,0,0,0.15);
}

<span class="hljs-selector-class">.scroll-container</span> {
    <span class="hljs-attribute">position</span>: relative;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">150px</span>;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
    <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#999999</span>;
    <span class="hljs-attribute">overflow</span>: auto;
}</code></pre></div>
        </div>
        <div class="demo-list-item-description">
          
<p>The overlay defaults to absolute positioning with reference to document.body. If the overlay trigger element&#39;s container (usually the parent node) has a scrollbar, then when the container is scrolled, the trigger element will be separated from the overlay. The solution is to render the overlay to the container where the trigger element is located. (The container must have a position style to support the absolute positioning of the overlay.)</p>

        </div>
        <div class="demo-list-item-control">
          <img src="https://img.alicdn.com/tfs/TB13J3EdzihSKJjy0FiXXcuiFXa-20-20.svg" alt="code collapse" class="collapse-btn">
        </div>
      </div>
    </div>
    
  </div>
  <div class="demo-api">
    <div class="title">API</div>
    <div class="demo-api-body markdown" id="demo-api"></div>
  </div>
</div>

  <script src="//g.alicdn.com/next/fusion-dev-static/3.4.32/common.js?t=847086"></script>
  <script src="//g.alicdn.com/next/fusion-dev-static/3.4.32/demo-util.js?t=847086"></script>
</body>

</html>
